<?xml version="1.0" encoding="UTF-8"?>
<form addfieldprefix="JoomShaper\Component\EasyStore\Administrator\Field">
    
    <field
        name="id"
        type="text"
        label="JGLOBAL_FIELD_ID_LABEL"
        class="readonly"
        readonly="true"
    />
    
    <fieldset name="order-customer">
        <field 
            name="customer_id" 
            type="user"
            label="COM_EASYSTORE_ORDER_FIELD_CUSTOMER"
            class="readonly"
            required="true"
        />

        <field
            name="customer_note"
            type="editor"
            label="COM_EASYSTORE_ORDER_FIELD_CUSTOMER_NOTE"
            filter="\Joomla\CMS\Component\ComponentHelper::filterText"
            buttons="true"
        />
    </fieldset>

    <fieldset name="order-discount">
        <field
            name="discount_type"
            type="list"
            label="COM_EASYSTORE_ORDER_FIELD_DISCOUNT_TYPE"
            class="form-select-color-state"
            >
            <option value="percent">COM_EASYSTORE_ORDER_FIELD_DISCOUNT_TYPE_TYPE_PERCENT</option>
            <option value="amount">COM_EASYSTORE_ORDER_FIELD_DISCOUNT_TYPE_TYPE_AMOUNT</option>
        </field>

        <field
            name="discount_value"
            type="number"
            label="COM_EASYSTORE_ORDER_FIELD_DISCOUNT_VALUE"
            default="0"
            validation="decimal(13,2)"
            filter="decimal"
        />

        <field
            name="discount_reason"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_DISCOUNT_REASON"
        />
    </fieldset>

    <fieldset name="order-coupon">
        <field
            name="coupon_code"
            class="easystore-coupon-code"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_COUPON_CODE"
        />
    </fieldset>

    <fieldset name="order-shipping">

        <field
            name="shipping_type"
            type="EasystoreItemList"
            class="easystore-shipping-method"
            label="COM_EASYSTORE_ORDER_FIELD_SHIPPING"
            get_settings="shipping"
            disable_add_new="true"
            required="true"
        />

        <field
            name="payment_method"
            type="EasystoreItemList"
            label="COM_EASYSTORE_ORDER_FIELD_PAYMENT"
            get_settings="payment_options_in_plugin"
            disable_add_new="true"
            required="true"
        />
        
        <field
            name="tracking_number"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_TRACKING_NUMBER"
        />

        <field
            name="shipping_carrier"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_SHIPPING_CARRIER"
        />

        <field
            name="tracking_url"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_TRACKING_URL"
        />
    </fieldset>

    <fieldset name="order-hidden-inputs">
        <field
            name="sale_tax"
            type="text"
        />
        <field
            name="shipping_value"
            type="text"
        />
        <field
            name="coupon_amount"
            type="text"
        />
    </fieldset>
    

    <fieldset name="order-options">
        <field
            name="custom_invoice_id"
            type="text"
            label="COM_EASYSTORE_ORDER_FIELD_CUSTOM_INVOICE_ID"
            description="COM_EASYSTORE_ORDER_FIELD_CUSTOM_INVOICE_ID_DESC"
            size="40"
        />

        <field
            name="published"
            type="list"
            label="COM_EASYSTORE_ORDER_FIELD_ORDER_STATUS"
            class="form-select-color-state"
            default="1"
            validate="options"
            >
            <option value="1">COM_EASYSTORE_ACTIVE</option>
            <option value="0">COM_EASYSTORE_INACTIVE</option>
            <option value="2">COM_EASYSTORE_ARCHIVED</option>
            <option value="-2">COM_EASYSTORE_TRASHED</option>
        </field>

        <field
            name="payment_status"
            type="list"
            label="COM_EASYSTORE_ORDER_FIELD_PAYMENT_STATUS"
            class="form-select-color-state"
            >
            <option value="paid">COM_EASYSTORE_ORDER_FIELD_PAYMENT_STATUS_TYPE_PAID</option>
            <option value="unpaid">COM_EASYSTORE_ORDER_FIELD_PAYMENT_STATUS_TYPE_UNPAID</option>
            <option value="refunded">COM_EASYSTORE_ORDER_FIELD_PAYMENT_STATUS_TYPE_REFUNDED</option>
        </field>

        <field
            name="fulfilment"
            type="list"
            label="COM_EASYSTORE_ORDER_FIELD_FULFILMENT"
            class="form-select-color-state"
            >
            <option value="unfulfilled">COM_EASYSTORE_ORDER_FIELD_FULFILMENT_TYPE_UNFULFILLED</option>
            <option value="cancelled">COM_EASYSTORE_ORDER_FIELD_FULFILMENT_TYPE_CANCELLED</option>
            <option value="fulfilled">COM_EASYSTORE_ORDER_FIELD_FULFILMENT_TYPE_FULFILLED</option>
        </field>

        <field
            name="access"
            type="accesslevel"
            label="JFIELD_ACCESS_LABEL"
            filter="UINT"
            validate="options"
        />
	</fieldset>

    <field
        name="created_user_id"
        type="user"
        label="JGLOBAL_FIELD_CREATED_BY_LABEL"
        validate="UserId"
    />

    <field
        name="created_time"
        type="calendar"
        label="COM_EASYSTORE_ORDER_FIELD_ORDER_DATE"
        class="readonly"
        translateformat="true"
        showtime="true"
        filter="user_utc"
        readonly="true"
    />

    <field
        name="modified_user_id"
        type="user"
        label="JGLOBAL_FIELD_MODIFIED_BY_LABEL"
        class="readonly"
        readonly="true"
        filter="unset"
        validate="UserId"
    />

    <field
        name="modified_time"
        type="calendar"
        label="JGLOBAL_FIELD_MODIFIED_LABEL"
        class="readonly"
        translateformat="true"
        showtime="true"
        filter="user_utc"
        readonly="true"
    />
</form>
