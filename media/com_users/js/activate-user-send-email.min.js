/**
 * @copyright  (C) 2023 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(!Joomla)throw new Error("Joomla API was not properly initialized");const button=document.querySelector(".activate-send-mail");button&&Object.keys(button.dataset).length!==0&&button.addEventListener("click",()=>{button.querySelector("span").className="icon-spinner",button.disabled=!0;const r=`index.php?${Object.keys(button.dataset).reduce((s,e)=>(s.push(`${e}=${encodeURIComponent(button.dataset[e])}`),s),[]).join("&")}`;Joomla.request({url:r,method:"GET",onSuccess:s=>{let e;try{e=JSON.parse(s)}catch{button.classList.add("error")}button.querySelector("span").className="icon-mail",button.disabled=!1,e.messages&&Joomla.renderMessages(e.messages)},onError:s=>{const e=JSON.parse(s);button.classList.add("error"),e.messages&&Joomla.renderMessages(e.messages)}})});
