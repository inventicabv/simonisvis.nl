"use strict";(self.webpackChunkreact_typescript_webpack=self.webpackChunkreact_typescript_webpack||[]).push([[2594],{5714:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(84026),l=n(2445);const r=function(t){var e,n=t.when,r=t.children,o=t.fallback,i=void 0===o?null:o;return e=n,(0,a.O9)(e)&&e?"function"==typeof r?r(n):(0,l.Y)(l.FK,{children:r}):i}},24590:(u,t,e)=>{e.r(t),e.d(t,{default:()=>st});var S=e(50394),L=e(19513),P=e(92921),g=e(68677),R=e(45584),n=e(39248),r=e(17437),_=e(88294),y=e(17936),w=e(5714),m=e(41943),Y=e(49587),A=e(73491),O=e(59217),E=e(84807),T=e(90578),F=e(84026),j=e(96540),v=e(47767),h=e(56051),x=e(2445);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function f(){var p,y,t="function"==typeof Symbol?Symbol:{},e=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function r(t,e,n,r){var o=e&&e.prototype instanceof a?e:a,i=Object.create(o.prototype);return s(i,"_invoke",function(r,o,t){var i,a,l,c=0,u=t||[],s=!1,f={p:0,n:0,v:p,a:d,f:d.bind(p,4),d:function(t,e){return i=t,a=0,l=p,f.n=e,m}};function d(t,e){for(a=t,l=e,y=0;!s&&c&&!n&&y<u.length;y++){var n,r=u[y],o=f.p,i=r[2];t>3?(n=i===e)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=p):r[0]<=o&&((n=t<2&&o<r[1])?(a=0,f.v=e,f.n=r[1]):o<i&&(n=t<3||r[0]>e||e>i)&&(r[4]=t,r[5]=e,f.n=i,a=0))}if(n||t>1)return m;throw s=!0,e}return function(t,e,n){if(c>1)throw TypeError("Generator is already running");for(s&&1===e&&d(e,n),a=e,l=n;(y=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(f.n=-1),d(a,l)):f.n=l:f.v=l);try{if(c=2,i){if(a||(t="next"),y=i[t]){if(!(y=y.call(i,l)))throw TypeError("iterator result is not an object");if(!y.done)return y;l=y.value,a<2&&(a=0)}else 1===a&&(y=i.return)&&y.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=p}else if((y=(s=f.n<0)?l:r.call(o,f))!==m)break}catch(t){i=p,a=1,l=t}finally{c=1}}return{value:y,done:s}}}(t,n,r),!0),i}var m={};function a(){}function o(){}function i(){}y=Object.getPrototypeOf;var l=[][e]?y(y([][e]())):(s(y={},e,function(){return this}),y),c=i.prototype=a.prototype=Object.create(l);function u(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,s(t,n,"GeneratorFunction")),t.prototype=Object.create(c),t}return o.prototype=i,s(c,"constructor",i),s(i,"constructor",o),o.displayName="GeneratorFunction",s(i,n,"GeneratorFunction"),s(c),s(c,n,"Generator"),s(c,e,function(){return this}),s(c,"toString",function(){return"[object Generator]"}),(f=function(){return{w:r,m:u}})()}function s(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}s=function(t,e,n,r){function o(e,n){s(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},s(t,e,n,r)}function W(t,e,n,r,o,i,a){try{var l=t[i](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,o)}function U(l){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=l.apply(t,a);function o(t){W(r,e,n,o,i,"next",t)}function i(t){W(r,e,n,o,i,"throw",t)}o(void 0)})}}function V(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(t,e,n){return(e=function(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(t){var o=t.extension,c=t.form,n=t.paymentMethods,e=t.selectedPaymentNames,r=(0,E.dx)(),i=(0,O.Io)(),a=(0,_.B)();function l(t){var e=t.name,n=t.type,r=t.paymentMethods,o=c.getValues("list"),i=r.find(function(t){return t.name===e});if(i){var a={list:c.getValues("list"),manualPayments:c.getValues("manualPayments"),onlinePayments:c.getValues("onlinePayments")};if("ADD"===n)return a=d(d({},a),{},{list:[].concat(V(o),[d(d({},i),{},{enabled:!1})])}),c.reset(a),a;var l=o.filter(function(t){return t.name!==e});return a=d(d({},a),{},{list:l}),c.reset(a),a}}function u(t){return s.apply(this,arguments)}function s(){return(s=U(f().m(function t(e){var n,r;return f().w(function(t){for(;;)switch(t.n){case 0:if(n=e.paymentMethods,!(r=l({name:o.element,type:"ADD",paymentMethods:n}))){t.n=1;break}return t.n=1,i.mutateAsync({property:"payment",data:JSON.stringify(r)});case 1:return t.a(2)}},t)}))).apply(this,arguments)}return o.has_update?(0,x.Y)(S.Ay,{variant:S.Ak.plain,size:S.Mp.slim,onClick:function(){r.mutate({element:o.element,download_url:o.link})},loading:r.isLoading,icon:(0,x.Y)(P.A,{name:"update"}),children:a("COM_EASYSTORE_APP_UPDATE")}):(0,x.Y)(w.A,{when:!e.has(o.element),fallback:(0,x.FD)("div",{css:p.addedText,children:[(0,x.Y)(P.A,{name:"check"}),(0,x.Y)("p",{children:a("COM_EASYSTORE_APP_ADDED")})]}),children:function(){return(0,x.Y)(w.A,{when:!o.is_installed,fallback:(0,x.Y)(S.Ay,{variant:S.Ak.secondary,buttonCss:p.addButton,onClick:function(){return u({paymentMethods:n})},children:a("COM_EASYSTORE_APP_PAYMENT_ADD_BUTTON")}),children:function(){return(0,x.Y)(S.Ay,{variant:S.Ak.secondary,buttonCss:p.addButton,onClick:U(f().m(function t(){var e;return f().w(function(t){for(;;)switch(t.n){case 0:if("cod"!==o.element){t.n=1;break}u({paymentMethods:n}),t.n=3;break;case 1:return t.n=2,r.mutateAsync({element:o.element,download_url:o.link});case 2:(e=t.v).data&&u({paymentMethods:[].concat(V(n),[e.data])});case 3:return t.a(2)}},t)})),loading:r.isLoading,children:a("COM_EASYSTORE_APP_PAYMENT_ADD_BUTTON")})}})}})},J=function(t){var e,n,r,o=t.closeModal,i=t.paymentType,a=t.form,l=(0,_.B)(),c=(null!==(e=(0,E._Z)().data)&&void 0!==e?e:[]).filter(function(t){return"manualPayments"===i?t.is_manual_payment:!t.is_manual_payment}),u=(0,O.Io)(),s=(0,v.Zp)(),f=null!==(n=null===(r=(0,O.dz)().data)||void 0===r?void 0:r.payment_methods)&&void 0!==n?n:[],d=new Set(a.getValues("list").map(function(t){return t.name}));return(0,j.useEffect)(function(){u.isSuccess&&(s(m.C.PaymentsSettings.buildLink()),o())},[u.isSuccess,s]),(0,x.Y)(h.A,{onClose:function(){return o({action:"CLOSE"})},title:l("COM_EASYSTORE_APP_SETTINGS_PAYMENT_PLUGIN_TITLE"),modalStyle:p.modalWrapper,stickyFooter:(0,x.Y)("div",{css:p.footerWrapper,children:(0,x.Y)(S.Ay,{type:"submit",loading:a.formState.isSubmitting,onClick:function(){return o({action:"CLOSE"})},children:l("COM_EASYSTORE_APP_PAYMENT_BACK_BUTTON")})}),children:(0,x.Y)(A.A,{children:(0,x.Y)("div",{css:[T.xB.cardInnerSection,p.rowGap,";label:PluginListModal;"],children:(0,x.Y)(y.A,{each:c,children:function(t){return(0,x.FD)("div",{css:p.wrapper,children:[(0,x.Y)("img",{src:t.logo,alt:t.title,css:p.logo}),(0,x.Y)("h6",{css:[Y.I.heading6("medium"),p.title,";label:PluginListModal;"],children:t.title}),(0,x.Y)("span",{css:p.text,children:t.folder}),(0,x.Y)(w.A,{when:(0,F.O9)(t.installed_version),fallback:(0,x.Y)("span",{css:p.text,children:t.version}),children:function(){return(0,x.Y)("span",{css:p.text,children:t.installed_version})}}),(0,x.Y)("div",{css:p.buttonWrapper,children:(0,x.Y)(q,{extension:t,form:a,paymentMethods:f,selectedPaymentNames:d})})]},t.element)}})})})})},p={modalWrapper:{name:"snxsv5-modalWrapper",styles:"max-height:80vh;display:flex;flex-direction:column;min-width:534px;label:modalWrapper;"},footerWrapper:(0,r.AH)("display:flex;align-items:center;padding:",n.YK[16],";gap:",n.YK[8],";justify-content:flex-end;;label:footerWrapper;"),wrapper:(0,r.AH)("display:grid;grid-template-columns:0.2fr 2fr 1.5fr 1fr 1.5fr;justify-content:space-between;align-items:center;background-color:",n.nm.surface.default,";border:1px solid ",n.nm.border.neutral,";border-radius:",n.Vq[6],";padding:",n.YK[10]," ",n.YK[10]," ",n.YK[10]," ",n.YK[16],";height:56px;;label:wrapper;"),title:(0,r.AH)("margin-bottom:0;margin-left:",n.YK[8],";;label:title;"),text:(0,r.AH)("color:",n.nm.text.disabled,";;label:text;"),logo:(0,r.AH)("height:",n.YK[24],";border-radius:",n.Vq[4],";;label:logo;"),buttonWrapper:{name:"1voa3w6-buttonWrapper",styles:"text-align:end;label:buttonWrapper;"},icon:(0,r.AH)("color:",n.nm.text.neutral,";margin-left:",n.YK[8],";svg{width:32px;height:32px;};label:icon;"),actionButtons:(0,r.AH)("display:flex;gap:",n.YK[8],";justify-content:end;;label:actionButtons;"),addButton:(0,r.AH)(Y.I.body("medium"),";background-color:",n.nm.actions.soft.default,";border:none;color:",n.nm.actions.primary.default,";:hover{background-color:",n.nm.actions.soft.hover,";box-shadow:none;}:active{background-color:",n.nm.actions.soft.pressed,";box-shadow:none;};label:addButton;"),addedText:(0,r.AH)("display:flex;align-items:center;justify-content:flex-end;color:",n.nm.text.success,";margin-right:",n.YK[4],";;label:addedText;"),rowGap:(0,r.AH)("gap:",n.YK[16],";;label:rowGap;")},Z=e(65295),M=e(7181),C=e(43627),Q=e(74979);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){tt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tt(t,e,n){return(e=function(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const nt=function(t){var e,n,r=t.payment,o=t.onEdit,i=t.onRemove,a=t.renderToggleField,l=t.index,c=t.isOverlayMode,u=void 0!==c&&c,s=(0,_.B)(),f=(e=(0,j.useState)(null),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1],y=(0,C.gl)({id:r.id}),m=y.attributes,b=y.listeners,v=y.setNodeRef,h=y.transform,g=y.transition,A=(0,E.dx)(),O={transform:Q.Ks.Transform.toString(h),transition:g};return(0,x.Y)(x.FK,{children:(0,x.FD)("div",k(k(k({css:D.wrapper(u),ref:v,style:O},m),b),{},{children:[(0,x.Y)("button",{type:"button",css:D.dragHandler,children:(0,x.Y)(P.A,{name:"ellipsis-double-y"})}),(0,x.FD)("div",{css:D.flagAndName,children:[(0,x.Y)(w.A,{when:r.logo,children:function(){return(0,x.Y)("span",{css:D.flag,children:(0,x.Y)("img",{src:"".concat(r.logo),css:D.logo})})}}),(0,x.Y)(w.A,{when:r.title,children:function(){return(0,x.Y)("h6",{css:[Y.I.heading6("medium"),D.title,";label:PaymentListPreview;"],children:r.title})}})]}),(0,x.FD)("div",{css:D.actionButtons,children:[r.has_update&&(0,x.Y)(S.Ay,{variant:S.Ak.plain,size:S.Mp.slim,onClick:function(){A.mutate({element:r.name,download_url:r.link})},loading:A.isLoading,icon:(0,x.Y)(P.A,{name:"update"}),children:s("COM_EASYSTORE_APP_UPDATE")}),r.is_configured?(0,x.FD)(x.FK,{children:[a,(0,x.FD)(M.A,{isOpen:d===l,arrowPosition:"left",onClick:function(){p(l)},closePopover:function(){return p(null)},children:[(0,x.Y)(M.A.Option,{text:s("COM_EASYSTORE_APP_SETUP"),onClick:o,disabled:!(0,F.O9)(r.plugin_id)}),(0,x.Y)(M.A.Option,{text:s("COM_EASYSTORE_APP_REMOVE"),onClick:i,isTrash:!0})]})]}):(0,x.FD)(x.FK,{children:[(0,x.Y)(S.Ay,{variant:S.Ak.primary,onClick:o,children:s("COM_EASYSTORE_APP_SETUP")}),(0,x.Y)(S.Ay,{variant:S.Ak.plainMonochrome,onClick:i,icon:(0,x.Y)(P.A,{name:"delete"})})]})]})]}))})};var D={wrapper:function(t){return(0,r.AH)("display:flex;background:",n.nm.surface.default,";align-items:center;border:1px solid ",n.nm.border.neutral,";border-radius:",n.Vq[6],";padding:",n.YK[12]," ",n.YK[16]," ",n.YK[12]," ",n.YK[8],";",t&&(0,r.AH)("border:2px dashed ",n.nm.border.depressed,";background-color:",n.nm.basic.white,";;label:wrapper;"),";;label:wrapper;")},dragHandler:(0,r.AH)(T.xB.resetButton,";display:inline-flex;cursor:grab!important;height:fit-content;margin-right:",n.YK[12],";svg{transform:rotate(90deg);color:",n.nm.icon.neutral,";height:24px;width:24px;};label:dragHandler;"),flagAndName:(0,r.AH)("display:flex;gap:",n.YK[8],";align-items:center;;label:flagAndName;"),flag:(0,r.AH)("display:flex;justify-content:center;align-items:center;font-size:",n.J[24],";;label:flag;"),logo:{name:"197tvot-logo",styles:"height:24px;label:logo;"},title:(0,r.AH)("margin-bottom:0;color:",n.nm.text.neutral,";;label:title;"),actionButtons:(0,r.AH)("display:flex;margin-left:auto;gap:",n.YK[12],";align-items:center;justify-content:flex-end;;label:actionButtons;")},rt=e(96756),N=e(43375),I=e(49785);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function G(){var p,y,t="function"==typeof Symbol?Symbol:{},e=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function r(t,e,n,r){var o=e&&e.prototype instanceof a?e:a,i=Object.create(o.prototype);return b(i,"_invoke",function(r,o,t){var i,a,l,c=0,u=t||[],s=!1,f={p:0,n:0,v:p,a:d,f:d.bind(p,4),d:function(t,e){return i=t,a=0,l=p,f.n=e,m}};function d(t,e){for(a=t,l=e,y=0;!s&&c&&!n&&y<u.length;y++){var n,r=u[y],o=f.p,i=r[2];t>3?(n=i===e)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=p):r[0]<=o&&((n=t<2&&o<r[1])?(a=0,f.v=e,f.n=r[1]):o<i&&(n=t<3||r[0]>e||e>i)&&(r[4]=t,r[5]=e,f.n=i,a=0))}if(n||t>1)return m;throw s=!0,e}return function(t,e,n){if(c>1)throw TypeError("Generator is already running");for(s&&1===e&&d(e,n),a=e,l=n;(y=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(f.n=-1),d(a,l)):f.n=l:f.v=l);try{if(c=2,i){if(a||(t="next"),y=i[t]){if(!(y=y.call(i,l)))throw TypeError("iterator result is not an object");if(!y.done)return y;l=y.value,a<2&&(a=0)}else 1===a&&(y=i.return)&&y.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=p}else if((y=(s=f.n<0)?l:r.call(o,f))!==m)break}catch(t){i=p,a=1,l=t}finally{c=1}}return{value:y,done:s}}}(t,n,r),!0),i}var m={};function a(){}function o(){}function i(){}y=Object.getPrototypeOf;var l=[][e]?y(y([][e]())):(b(y={},e,function(){return this}),y),c=i.prototype=a.prototype=Object.create(l);function u(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,b(t,n,"GeneratorFunction")),t.prototype=Object.create(c),t}return o.prototype=i,b(c,"constructor",i),b(i,"constructor",o),o.displayName="GeneratorFunction",b(i,n,"GeneratorFunction"),b(c),b(c,n,"Generator"),b(c,e,function(){return this}),b(c,"toString",function(){return"[object Generator]"}),(G=function(){return{w:r,m:u}})()}function b(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}b=function(t,e,n,r){function o(e,n){b(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},b(t,e,n,r)}function ot(t,e,n,r,o,i,a){try{var l=t[i](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,o)}function it(l){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=l.apply(t,a);function o(t){ot(r,e,n,o,i,"next",t)}function i(t){ot(r,e,n,o,i,"throw",t)}o(void 0)})}}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){lt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lt(t,e,n){return(e=function(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ut(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,e)||ut(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const st=function(){var t,u=(0,_.B)(),s=(0,R.h)().showModal,e=function(){var e=(0,R.h)().showModal;return{openPluginListModal:function(t){return e({component:J,props:t})}}}(),n=e.openPluginListModal,f=(0,rt.p)({defaultValues:{list:[],manualPayments:[],onlinePayments:[]}}),r=f.reset,o=(0,I.jz)({name:"manualPayments",control:f.control}),i=(0,I.jz)({name:"onlinePayments",control:f.control}),a=ct((0,j.useState)(null),2),d=a[0],p=a[1],y=[].concat(H(o.fields),H(i.fields)).find(function(t){return t.id===d}),m=y?Math.max(o.fields.indexOf(y),i.fields.indexOf(y),-1):-1,l=(0,O.Io)(),c=(0,O.dz)(),b={manualPayments:{title:u("COM_EASYSTORE_APP_SETTINGS_MANUAL_PAYMENT_GATEWAYS_TITLE"),subtitle:u("COM_EASYSTORE_APP_SETTINGS_MANUAL_PAYMENT_GATEWAYS_SUBTITLE"),addPaymentText:u("COM_EASYSTORE_APP_SETTINGS_ADD_MANUAL_PAYMENT"),payments:o},onlinePayments:{title:u("COM_EASYSTORE_APP_PAYMENT_TITLE"),subtitle:u("COM_EASYSTORE_APP_PAYMENT_SUBTITLE"),addPaymentText:u("COM_EASYSTORE_APP_SETTINGS_ADD_PAYMENT_GATEWAY"),payments:i}},v=(0,N.FR)((0,N.MS)(N.AN,{activationConstraint:{distance:10}}),(0,N.MS)(N.uN,{coordinateGetter:C.JR}));if((0,j.useEffect)(function(){var t,e=null===(t=c.data)||void 0===t?void 0:t.settings.payment;e&&e.list&&r({list:e.list,manualPayments:e.list.filter(function(t){return t.is_manual_payment}),onlinePayments:e.list.filter(function(t){return!t.is_manual_payment})})},[r,null===(t=c.data)||void 0===t?void 0:t.settings.payment]),c.isLoading)return(0,x.Y)(L.p8,{});if(!c.data)return(0,x.Y)("div",{children:u("COM_EASYSTORE_APP_GLOBAL_SOMETHING_WENT_WRONG")});var h=function(t){return function(){n({form:f,paymentType:t})}};return(0,x.FD)("div",{css:K.wrapper,children:[(0,x.Y)("h4",{css:Y.I.heading4("medium"),children:u("COM_EASYSTORE_APP_PAYMENT_SETTINGS_TITLE")}),(0,x.FD)("div",{css:K.pageContentWrapper,children:[Object.entries(b).map(function(t){var e,n,r,o,i,a,l=ct(t,2),c=l[0];return n=(e=B(B({},l[1]),{},{paymentType:c})).title,r=e.subtitle,o=e.addPaymentText,i=e.payments,a=e.paymentType,(0,x.FD)(A.A,{children:[(0,x.Y)(A.a,{title:n,subtitle:r}),i.fields.length?(0,x.FD)(N.Mp,{sensors:v,collisionDetection:N.fp,onDragStart:function(t){p(t.active.id)},onDragEnd:function(t){var e=t.active,n=t.over;if(n&&e.id!==n.id){var r=i.fields.findIndex(function(t){return t.id===e.id}),o=i.fields.findIndex(function(t){return t.id===n.id});i.move(r,o)}},children:[(0,x.Y)(C.gB,{items:i.fields.map(function(t){return B(B({},t),{},{id:t.id})}),strategy:C._G,children:(0,x.FD)("div",{css:[T.xB.cardInnerSection,K.rowGap,";label:renderPaymentList;"],children:[i.fields.map(function(t,e){return(0,x.Y)(nt,{index:e,payment:t,onRemove:function(){i.remove(e)},onEdit:function(){s({component:Z.A,props:{title:u("COM_EASYSTORE_APP_PAYMENT_SETTINGS_TITLE"),url:t.edit_url}})},renderToggleField:(0,x.Y)(I.xI,{control:f.control,name:"".concat(a,".").concat(e,".enabled"),render:function(t){return(0,x.Y)("span",{css:K.switchContainer,children:(0,x.Y)(g.A,B({},t))})}})},t.id)}),(0,x.Y)(S.Ay,{variant:S.Ak.plain,onClick:h(a),buttonCss:K.addPaymentButton,icon:(0,x.Y)(P.A,{name:"plus-circle"}),children:o})]})}),(0,x.Y)(N.Hd,{children:d&&y&&(0,x.Y)(nt,{index:m,payment:y,onEdit:function(){},onRemove:function(){},isOverlayMode:!0,renderToggleField:(0,x.Y)(I.xI,{control:f.control,name:"".concat(a,".").concat(m,".enabled"),render:function(t){return(0,x.Y)("span",{css:K.switchContainer,children:(0,x.Y)(g.A,B({},t))})}})},d)})]}):(0,x.Y)("div",{css:K.buttonWrapper,children:(0,x.Y)(S.Ay,{icon:(0,x.Y)(P.A,{name:"plus-circle"}),variant:S.Ak.primary,onClick:h(a),children:u("manualPayments"===a?"COM_EASYSTORE_APP_PAYMENT_SETTINGS_ADD_MANUAL_PAYMENT":"COM_EASYSTORE_APP_PAYMENT_SETTINGS_ADD_PAYMENT_GATEWAY")})})]},a)}),(0,x.Y)("div",{css:K.saveButtonContainer,"data-isdirty":f.formState.isDirty?"true":void 0,children:(0,x.Y)(S.Ay,{onClick:it(G().m(function t(){var e,n;return G().w(function(t){for(;;)switch(t.p=t.n){case 0:return(e=f.getValues()).list=[].concat(H(e.manualPayments),H(e.onlinePayments)),t.p=1,t.n=2,l.mutateAsync({property:"payment",data:JSON.stringify(e)});case 2:t.n=4;break;case 3:t.p=3,n=t.v,console.error(n);case 4:return t.a(2)}},t,null,[[1,3]])})),loading:l.isLoading,children:u("COM_EASYSTORE_APP_SAVE_CHANGES")})})]})]})};var K={wrapper:(0,r.AH)("display:flex;flex-direction:column;gap:",n.YK[24],";;label:wrapper;"),pageContentWrapper:(0,r.AH)("display:flex;flex-direction:column;gap:",n.YK[16],";;label:pageContentWrapper;"),saveButtonContainer:{name:"84jv1k-saveButtonContainer",styles:"display:flex;justify-content:flex-end;label:saveButtonContainer;"},addPaymentButton:(0,r.AH)("width:fit-content;padding-top:",n.YK[12],";padding-bottom:",n.YK[12],";svg{height:16px;width:16px;};label:addPaymentButton;"),switchContainer:(0,r.AH)("display:flex;align-items:center;gap:",n.YK[12],";;label:switchContainer;"),switchStatus:function(t){var e=t.isEnabled;return(0,r.AH)("color:",e?n.nm.text.default:n.nm.text.disabled,";;label:switchStatus;")},messageWrapper:(0,r.AH)("margin-top:",n.YK[16],";;label:messageWrapper;"),rowGap:(0,r.AH)("gap:",n.YK[16],";;label:rowGap;"),buttonWrapper:(0,r.AH)("padding:",n.YK[24],";;label:buttonWrapper;")}},96756:(t,e,n)=>{n.d(e,{p:()=>s});var a=n(96540),l=n(49785);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t,e,n){return(e=function(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var s=function(t){var e,n,r=(e=(0,a.useState)(),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return c(c({},(0,l.mN)(t)),{},{submitError:o,setSubmitError:i})}},99981:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(39248),o=n(49587),i=n(17437),u=n(80953),s=n(52555),f=n(17711),a=n(90578),d=(n(96540),n(2445));function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(t,e,n){return(e=function(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var b={opacity:0,transform:"scale(0.8)"},v={tension:300,friction:15};const h=function(t){var e,n,r=t.children,o=t.content,i=t.allowHTML,a=(e=(0,s.zh)(function(){return b}),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1];return(0,d.Y)(f.Ay,{render:function(t){return(0,d.Y)(u.LK,p(p({style:l},t),{},{css:g.contentBox,children:o}))},animation:!0,onMount:function(){c.start({opacity:1,transform:"scale(1)",config:v})},onHide:function(t){var e=t.unmount;c.start(p(p({},b),{},{onRest:e,config:p(p({},v),{},{clamp:!0})}))},allowHTML:i,delay:[0,100],children:(0,d.Y)("button",{type:"button",css:g.button,children:r})})};var g={contentBox:(0,i.AH)("max-width:200px;width:100%;background-color:",r.nm.surface.default,";box-shadow:",r.r7.popover,";border-radius:",r.Vq[6],";padding:",r.YK[8]," ",r.YK[10],";",o.I.body(),";;label:contentBox;"),button:(0,i.AH)(a.xB.resetButton,";line-height:1;;label:button;")}}}]);