"use strict";(self.webpackChunkreact_typescript_webpack=self.webpackChunkreact_typescript_webpack||[]).push([[7621],{17936:(t,r,n)=>{n.d(r,{A:()=>e});const e=function(t){var r=t.each,n=t.children,e=t.fallback,o=void 0===e?null:e;return 0===r.length?o:r.map(function(t,r){return n(t,r)})}},65295:(t,r,n)=>{n.d(r,{A:()=>i});var v=n(88294),e=n(17437),o=n(39248),y=n(56051),h=n(50394),m=n(96540),b=n(84807),g=n(2445);function w(){var d,v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o=r&&r.prototype instanceof a?r:a,i=Object.create(o.prototype);return f(i,"_invoke",function(e,o,t){var i,a,c,u=0,l=t||[],f=!1,s={p:0,n:0,v:d,a:p,f:p.bind(d,4),d:function(t,r){return i=t,a=0,c=d,s.n=r,y}};function p(t,r){for(a=t,c=r,v=0;!f&&u&&!n&&v<l.length;v++){var n,e=l[v],o=s.p,i=e[2];t>3?(n=i===r)&&(c=e[(a=e[4])?5:(a=3,3)],e[4]=e[5]=d):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,s.v=r,s.n=e[1]):o<i&&(n=t<3||e[0]>r||r>i)&&(e[4]=t,e[5]=r,s.n=i,a=0))}if(n||t>1)return y;throw f=!0,r}return function(t,r,n){if(u>1)throw TypeError("Generator is already running");for(f&&1===r&&p(r,n),a=r,c=n;(v=a<2?d:c)||!f;){i||(a?a<3?(a>1&&(s.n=-1),p(a,c)):s.n=c:s.v=c);try{if(u=2,i){if(a||(t="next"),v=i[t]){if(!(v=v.call(i,c)))throw TypeError("iterator result is not an object");if(!v.done)return v;c=v.value,a<2&&(a=0)}else 1===a&&(v=i.return)&&v.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=d}else if((v=(f=s.n<0)?c:e.call(o,s))!==y)break}catch(t){i=d,a=1,c=t}finally{u=1}}return{value:v,done:f}}}(t,n,e),!0),i}var y={};function a(){}function o(){}function i(){}v=Object.getPrototypeOf;var c=[][r]?v(v([][r]())):(f(v={},r,function(){return this}),v),u=i.prototype=a.prototype=Object.create(c);function l(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,f(t,n,"GeneratorFunction")),t.prototype=Object.create(u),t}return o.prototype=i,f(u,"constructor",i),f(i,"constructor",o),o.displayName="GeneratorFunction",f(i,n,"GeneratorFunction"),f(u),f(u,n,"Generator"),f(u,r,function(){return this}),f(u,"toString",function(){return"[object Generator]"}),(w=function(){return{w:e,m:l}})()}function f(t,r,n,e){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}f=function(t,r,n,e){function o(r,n){f(t,r,function(t){return this._invoke(r,n,t)})}r?i?i(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:(o("next",0),o("throw",1),o("return",2))},f(t,r,n,e)}function S(t,r,n,e,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?r(u):Promise.resolve(u).then(e,o)}function O(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}const i=function(t){var r,n,e=t.closeModal,o=t.title,i=t.url,a=(0,v.B)(),c=(r=(0,m.useState)(!1),n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;u=!1}else for(;!(u=(e=i.call(n)).done)&&(c.push(e.value),c.length!==r);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(r,n)||function(t,r){if(t){if("string"==typeof t)return O(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],l=c[1],f=(0,m.useRef)(null),s=(0,m.useRef)(null),p=(0,b.Cg)();function d(){var c;return c=w().m(function t(){var r,n,e;return w().w(function(t){for(;;)switch(t.n){case 0:if(s.current){t.n=1;break}return t.a(2);case 1:if(n=s.current.getAttribute("action"),e=new FormData(s.current),n){t.n=2;break}return t.a(2);case 2:return l(!0),t.n=3,p.mutateAsync({url:n,data:e});case 3:if(l(!1),f.current){t.n=4;break}return t.a(2);case 4:null===(r=f.current.contentWindow)||void 0===r||r.location.reload();case 5:return t.a(2)}},t)}),d=function(){var t=this,a=arguments;return new Promise(function(r,n){var e=c.apply(t,a);function o(t){S(e,r,n,o,i,"next",t)}function i(t){S(e,r,n,o,i,"throw",t)}o(void 0)})},d.apply(this,arguments)}return(0,g.Y)(y.A,{onClose:function(){return e({action:"CLOSE"})},title:o,children:(0,g.FD)("div",{css:A.modalWrapper,children:[(0,g.Y)("div",{css:A.codeMirror,children:(0,g.Y)("iframe",{src:"".concat(i,"&tmpl=component"),ref:f,name:"editorIframe",title:"editor iframe",onLoad:function(t){var r;if(f.current){var n=f.current.contentDocument||(null===(r=f.current.contentWindow)||void 0===r?void 0:r.document);if(n){var e=n.querySelector("form");s.current=e}}}})}),(0,g.FD)("div",{css:A.footerWrapper,children:[(0,g.Y)(h.Ay,{variant:h.Ak.secondary,onClick:function(){return e({action:"CLOSE"})},children:a("COM_EASYSTORE_APP_CANCEL")}),(0,g.Y)(h.Ay,{onClick:function(){var t;if(s.current){var r=s.current.querySelector("input[name=task]");if(r&&(r.setAttribute("value","plugin.apply"),f.current)){var n=f.current.contentDocument||(null===(t=f.current.contentWindow)||void 0===t?void 0:t.document);n&&n.formvalidator.isValid(s.current)&&function(){d.apply(this,arguments)}()}}},loading:u,children:a("COM_EASYSTORE_APP_SAVE")})]})]})})};var A={modalWrapper:{name:"1pd9pqi-modalWrapper",styles:"iframe{width:1236px;height:600px;};label:modalWrapper;"},codeMirror:{name:"1ivh6sh-codeMirror",styles:".cm-editor,.cm-theme{height:300px;}.cm-editor{border-radius:0px;padding:0;margin:0;};label:codeMirror;"},footerWrapper:(0,e.AH)("display:flex;align-items:center;padding:",o.YK[16],";gap:",o.YK[8],";justify-content:flex-end;;label:footerWrapper;")}},84807:(t,r,n)=>{n.d(r,{Cg:()=>b,_Z:()=>v,dx:()=>h});var o=n(21349),e=n(159),i=n(15501),a=n(39176),c=n(63064),u=n(21154),l=n(71083);function f(){var d,v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o=r&&r.prototype instanceof a?r:a,i=Object.create(o.prototype);return s(i,"_invoke",function(e,o,t){var i,a,c,u=0,l=t||[],f=!1,s={p:0,n:0,v:d,a:p,f:p.bind(d,4),d:function(t,r){return i=t,a=0,c=d,s.n=r,y}};function p(t,r){for(a=t,c=r,v=0;!f&&u&&!n&&v<l.length;v++){var n,e=l[v],o=s.p,i=e[2];t>3?(n=i===r)&&(c=e[(a=e[4])?5:(a=3,3)],e[4]=e[5]=d):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,s.v=r,s.n=e[1]):o<i&&(n=t<3||e[0]>r||r>i)&&(e[4]=t,e[5]=r,s.n=i,a=0))}if(n||t>1)return y;throw f=!0,r}return function(t,r,n){if(u>1)throw TypeError("Generator is already running");for(f&&1===r&&p(r,n),a=r,c=n;(v=a<2?d:c)||!f;){i||(a?a<3?(a>1&&(s.n=-1),p(a,c)):s.n=c:s.v=c);try{if(u=2,i){if(a||(t="next"),v=i[t]){if(!(v=v.call(i,c)))throw TypeError("iterator result is not an object");if(!v.done)return v;c=v.value,a<2&&(a=0)}else 1===a&&(v=i.return)&&v.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=d}else if((v=(f=s.n<0)?c:e.call(o,s))!==y)break}catch(t){i=d,a=1,c=t}finally{u=1}}return{value:v,done:f}}}(t,n,e),!0),i}var y={};function a(){}function o(){}function i(){}v=Object.getPrototypeOf;var c=[][r]?v(v([][r]())):(s(v={},r,function(){return this}),v),u=i.prototype=a.prototype=Object.create(c);function l(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,s(t,n,"GeneratorFunction")),t.prototype=Object.create(u),t}return o.prototype=i,s(u,"constructor",i),s(i,"constructor",o),o.displayName="GeneratorFunction",s(i,n,"GeneratorFunction"),s(u),s(u,n,"Generator"),s(u,r,function(){return this}),s(u,"toString",function(){return"[object Generator]"}),(f=function(){return{w:e,m:l}})()}function s(t,r,n,e){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}s=function(t,r,n,e){function o(r,n){s(t,r,function(t){return this._invoke(r,n,t)})}r?i?i(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:(o("next",0),o("throw",1),o("return",2))},s(t,r,n,e)}function p(t,r,n,e,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?r(u):Promise.resolve(u).then(e,o)}var d=function(){var c,t=(c=f().m(function t(){var r;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.k.get(i.A.EXTENSIONS);case 1:return r=t.v,t.a(2,r.data)}},t)}),function(){var t=this,a=arguments;return new Promise(function(r,n){var e=c.apply(t,a);function o(t){p(e,r,n,o,i,"next",t)}function i(t){p(e,r,n,o,i,"throw",t)}o(void 0)})});return function(){return t.apply(this,arguments)}}(),v=function(){return(0,a.I)({queryKey:["Extensions"],queryFn:d})},y=function(t){return e.k.post(i.A.EXTENSIONS,t)},h=function(){var t=(0,c.jE)(),e=(0,o.d)().showToast;return(0,u.n)(y,{onSuccess:function(){t.invalidateQueries(["Extensions"]),t.invalidateQueries(["AppConfig"]),e({type:"success",message:"Extension pack installed."})},onError:function(t){var r,n;e({type:"danger",message:null!==(r=null==t||null===(n=t.response)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)&&void 0!==r?r:""})}})},m=function(t){var r=t.url,n=t.data;return l.A.post(r,n)},b=function(){var r=(0,o.d)().showToast,t=(0,c.jE)();return(0,u.n)({mutationFn:m,onSuccess:function(){t.invalidateQueries(["AppConfig"]),r({type:"success",message:"Extension Options Saved Successfully!"})},onError:function(t){r({type:"danger",message:t.message})}})}}}]);