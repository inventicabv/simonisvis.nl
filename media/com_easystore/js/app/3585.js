"use strict";(self.webpackChunkreact_typescript_webpack=self.webpackChunkreact_typescript_webpack||[]).push([[3585],{41601:(l,e,t)=>{t.r(e),t.d(e,{default:()=>A});var R=t(50394),z=t(76053),M=t(91789),w=t(19513),j=t(92921),Q=t(99981),I=t(30105),L=t(9376),x=t(60896),ee=t(4585),r=t(39248),n=t(49587),o=t(17437),B=t(22654),k=t(96756),D=t(92075),U=t(88294),F=t(25576),te=t(72517),re=t(11135),N=t(72263),H=t(96540),K=t(49785),ne=t(45584),oe=t(56051),G=t(2445);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function Y(){var p,m,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype);return s(i,"_invoke",function(n,o,e){var i,a,l,c=0,u=e||[],s=!1,d={p:0,n:0,v:p,a:f,f:f.bind(p,4),d:function(e,t){return i=e,a=0,l=p,d.n=t,_}};function f(e,t){for(a=e,l=t,m=0;!s&&c&&!r&&m<u.length;m++){var r,n=u[m],o=d.p,i=n[2];e>3?(r=i===t)&&(l=n[(a=n[4])?5:(a=3,3)],n[4]=n[5]=p):n[0]<=o&&((r=e<2&&o<n[1])?(a=0,d.v=t,d.n=n[1]):o<i&&(r=e<3||n[0]>t||t>i)&&(n[4]=e,n[5]=t,d.n=i,a=0))}if(r||e>1)return _;throw s=!0,t}return function(e,t,r){if(c>1)throw TypeError("Generator is already running");for(s&&1===t&&f(t,r),a=t,l=r;(m=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(d.n=-1),f(a,l)):d.n=l:d.v=l);try{if(c=2,i){if(a||(e="next"),m=i[e]){if(!(m=m.call(i,l)))throw TypeError("iterator result is not an object");if(!m.done)return m;l=m.value,a<2&&(a=0)}else 1===a&&(m=i.return)&&m.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);i=p}else if((m=(s=d.n<0)?l:n.call(o,d))!==_)break}catch(e){i=p,a=1,l=e}finally{c=1}}return{value:m,done:s}}}(e,r,n),!0),i}var _={};function a(){}function o(){}function i(){}m=Object.getPrototypeOf;var l=[][t]?m(m([][t]())):(s(m={},t,function(){return this}),m),c=i.prototype=a.prototype=Object.create(l);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,s(e,r,"GeneratorFunction")),e.prototype=Object.create(c),e}return o.prototype=i,s(c,"constructor",i),s(i,"constructor",o),o.displayName="GeneratorFunction",s(i,r,"GeneratorFunction"),s(c),s(c,r,"Generator"),s(c,t,function(){return this}),s(c,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:n,m:u}})()}function s(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}s=function(e,t,r,n){function o(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},s(e,t,r,n)}function ie(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return W(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e){var t,r,i=e.closeModal,n=e.title,o=e.form,a=(0,U.B)(),c=(0,N.JA)(),l=ee.re,u=ae((0,H.useState)([]),2),s=u[0],d=u[1],f=ae((0,H.useState)({page:1}),2),p=f[0],m=f[1],_=(0,k.p)({defaultValues:{searchCustomer:"",sortByCustomer:""}}),S=(0,N.r3)({offset:(p.page-1)*l,limit:l}),y=(0,D.g)({totalItemsList:null===(t=S.data)||void 0===t?void 0:t.results}),O=y.selectedItems,v=y.totalItems,b=y.totalSelected,h=y.onSelectItem,E=y.toggleAllItems,A=(0,B.d)((0,K.FH)({control:_.control,name:"searchCustomer"})),g=(0,K.FH)({control:_.control,name:"sortByCustomer"});(0,H.useEffect)(function(){var e,t;if(null!==(e=S.data)&&void 0!==e&&e.results){var r=function(e){if(Array.isArray(e))return W(e)}(t=S.data.results)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();A&&A.trim().length>0&&(r=r.filter(function(e){return e.name.toLowerCase().includes(A.trim().toLowerCase())})),g&&(r=r.sort(function(e,t){return"name"===g?e.name.localeCompare(t.name):t.name.localeCompare(e.name)}));var n=r.slice((p.page-1)*l,p.page*l);d(n)}},[A,g,null===(r=S.data)||void 0===r?void 0:r.results,p.page]);var T=[{label:a("COM_EASYSTORE_APP_USERS_SORT_BY_NAME_AZ"),value:"name"},{label:a("COM_EASYSTORE_APP_USERS_SORT_BY_NAME_ZA"),value:"-name"}],P=[{Header:(0,G.Y)(M.A,{onChange:function(){E()},checked:v>0&&b===v,isIndeterminate:b>0&&b<v}),Cell:function(t,r){return(0,G.Y)(M.A,{onChange:function(e){h({itemId:t.id,itemIndex:r,isChecked:e})},checked:O.ids.includes(t.id)})},width:50},{Header:a("COM_EASYSTORE_APP_CUSTOMERS_LIST_CUSTOMER_NAME"),Cell:function(e){return t=e,(0,G.FD)("div",{css:V.customerName,children:[(0,G.Y)("div",{children:(0,G.Y)("img",{src:t.image||re,alt:t.name})}),(0,G.Y)("span",{children:t.name})]},t.id);var t}},{Header:a("COM_EASYSTORE_APP_CUSTOMER_EMAIL"),Cell:function(e){return t=e,(0,G.Y)("div",{children:(0,G.Y)("span",{children:t.email})});var t}}];return S.isLoading?(0,G.Y)(w.Ay,{}):S.data?(0,G.Y)(oe.A,{onClose:function(){return i({action:"CLOSE"})},title:n,modalStyle:V.modalWrapperStyle,children:(0,G.FD)("form",{onSubmit:o.handleSubmit(function(){var l,t=(l=Y().m(function e(t){var r,n,o;return Y().w(function(e){for(;;)switch(e.n){case 0:return n=null===(r=S.data)||void 0===r?void 0:r.results.filter(function(e){return O.ids.includes(e.id)}),o=(null==n?void 0:n.length)>0?n.map(function(e){return e.id}):O.ids,e.n=1,c.mutateAsync(C(C({},t),{},{id:o}));case 1:e.v.status&&i({action:"CONFIRM"});case 2:return e.a(2)}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){ie(n,t,r,o,i,"next",e)}function i(e){ie(n,t,r,o,i,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}()),children:[(0,G.FD)("div",{css:V.modalBody,children:[(0,G.FD)("div",{css:V.tableActions,children:[(0,G.Y)(K.xI,{control:_.control,name:"searchCustomer",render:function(e){return(0,G.Y)(I.A,C(C({},e),{},{content:(0,G.Y)(j.A,{name:"search"}),placeholder:a("COM_EASYSTORE_APP_CUSTOMERS_SEARCH_CUSTOMER"),showVerticalBar:!1}))}}),(0,G.Y)(K.xI,{control:_.control,name:"sortByCustomer",render:function(e){return(0,G.Y)(L.A,C(C({},e),{},{options:T,icon:(0,G.Y)(j.A,{name:"sorting"}),iconPosition:"left",listLabel:a("COM_EASYSTORE_APP_SORT_BY"),placeholder:a("COM_EASYSTORE_APP_TAGS_SORT_BY_PLACEHOLDER"),hideCaret:!0,showRadio:!0}))}})]}),(0,G.Y)(te.A,{columns:P,data:s,stripedBySelectedIndex:O.indexes,itemsPerPage:l,loading:S.isFetching}),(0,G.Y)("div",{css:V.paginatorWrapper,children:(0,G.Y)(F.A,{currentPage:p.page,onPageChange:function(t){m(function(e){return C(C({},e),{},{page:t})})},totalItems:S.data.totalItems,itemsPerPage:l})})]}),(0,G.FD)("div",{css:V.buttonWrapper,children:[(0,G.Y)(R.Ay,{variant:R.Ak.secondary,onClick:function(){return i({action:"CLOSE"})},children:a("COM_EASYSTORE_APP_CANCEL")}),(0,G.Y)(R.Ay,{type:"submit",variant:R.Ak.primary,loading:c.isLoading,children:a("COM_EASYSTORE_APP_JOOMLA_USERS_CONVERT_AS_CUSTOMER")})]})]})}):(0,G.Y)("div",{children:a("COM_EASYSTORE_APP_GLOBAL_SOMETHING_WENT_WRONG")})},V={modalWrapperStyle:{name:"1ir64qd-modalWrapperStyle",styles:"position:relative;width:100%;min-width:779px;overflow:hidden;overflow-y:auto;max-height:100%;label:modalWrapperStyle;"},modalBody:(0,o.AH)("margin-bottom:",r.YK[72],";padding-bottom:",r.YK[20],";;label:modalBody;"),tableActions:(0,o.AH)("display:grid;grid-template-columns:auto 210px;align-items:center;gap:",r.YK[24],";padding:",r.YK[20],";;label:tableActions;"),paginatorWrapper:(0,o.AH)("margin-top:",r.YK[20],";padding:0 ",r.YK[20],";;label:paginatorWrapper;"),buttonWrapper:(0,o.AH)("position:absolute;bottom:0;width:100%;background-color:",r.nm.surface.default,";box-shadow:",r.r7.popover,";display:flex;padding:",r.YK[16]," ",r.YK[20],";justify-content:end;gap:",r.YK[24],";align-items:center;;label:buttonWrapper;"),customerName:(0,o.AH)("display:flex;align-items:center;gap:",r.YK[8],";>div{width:32px;height:32px;border-radius:",r.Vq.circle,";overflow:hidden;img{width:100%;height:100%;object-fit:cover;}}>a{",n.I.heading6("medium"),";color:",r.nm.text.default,";text-decoration:none;};label:customerName;")},q=t(41943),ue=t(41290),se=t(48532),de=t(73491),fe=t(9091);const pe=t.p+"images/6dd5c6f008b31d34b45c.png";var me=t(85549),J=t(90578),_e=t(47767),Se=t(84976),p=t(7181),m=t(84026);function d(){var p,m,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype);return f(i,"_invoke",function(n,o,e){var i,a,l,c=0,u=e||[],s=!1,d={p:0,n:0,v:p,a:f,f:f.bind(p,4),d:function(e,t){return i=e,a=0,l=p,d.n=t,_}};function f(e,t){for(a=e,l=t,m=0;!s&&c&&!r&&m<u.length;m++){var r,n=u[m],o=d.p,i=n[2];e>3?(r=i===t)&&(l=n[(a=n[4])?5:(a=3,3)],n[4]=n[5]=p):n[0]<=o&&((r=e<2&&o<n[1])?(a=0,d.v=t,d.n=n[1]):o<i&&(r=e<3||n[0]>t||t>i)&&(n[4]=e,n[5]=t,d.n=i,a=0))}if(r||e>1)return _;throw s=!0,t}return function(e,t,r){if(c>1)throw TypeError("Generator is already running");for(s&&1===t&&f(t,r),a=t,l=r;(m=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(d.n=-1),f(a,l)):d.n=l:d.v=l);try{if(c=2,i){if(a||(e="next"),m=i[e]){if(!(m=m.call(i,l)))throw TypeError("iterator result is not an object");if(!m.done)return m;l=m.value,a<2&&(a=0)}else 1===a&&(m=i.return)&&m.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);i=p}else if((m=(s=d.n<0)?l:n.call(o,d))!==_)break}catch(e){i=p,a=1,l=e}finally{c=1}}return{value:m,done:s}}}(e,r,n),!0),i}var _={};function a(){}function o(){}function i(){}m=Object.getPrototypeOf;var l=[][t]?m(m([][t]())):(f(m={},t,function(){return this}),m),c=i.prototype=a.prototype=Object.create(l);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,f(e,r,"GeneratorFunction")),e.prototype=Object.create(c),e}return o.prototype=i,f(c,"constructor",i),f(i,"constructor",o),o.displayName="GeneratorFunction",f(i,r,"GeneratorFunction"),f(c),f(c,r,"Generator"),f(c,t,function(){return this}),f(c,"toString",function(){return"[object Generator]"}),(d=function(){return{w:n,m:u}})()}function f(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}f=function(e,t,r,n){function o(t,r){f(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},f(e,t,r,n)}function _(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function y(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){_(n,t,r,o,i,"next",e)}function i(e){_(n,t,r,o,i,"throw",e)}o(void 0)})}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ye=function(e){var t,r,n=e.item,o=e.updateSelectedItems,i=(t=(0,H.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],c=(0,_e.Zp)(),u=(0,x.Y)(),s=(0,U.B)();return(0,G.FD)("div",{css:v.tableMoreOptions,children:[(0,G.Y)("button",{type:"button",css:v.editButton,onClick:function(){c(q.C.EditCustomer.buildLink({id:n.id.toString()}))},children:(0,G.Y)(j.A,{name:"pencil"})}),(0,G.Y)(p.A,{arrowPosition:"right",isOpen:a,onClick:function(){l(!0)},closePopover:function(){return l(!1)},children:(0,G.Y)(p.A.Option,{text:s("COM_EASYSTORE_APP_DELETE"),icon:(0,G.Y)(j.A,{name:"delete",width:20,height:20}),onClick:y(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({title:s("COM_EASYSTORE_APP_DELETE_CUSTOMER_MODAL_TITLE"),payload:{ids:[n.id]},mutationFn:N.CT,invalidateKeys:[["Users"]]});case 1:"CONFIRM"===e.v.action&&(0,m.O9)(o)&&o();case 2:return e.a(2)}},e)})),isTrash:!0})})]})},v={tableMoreOptions:(0,o.AH)("display:flex;align-items:center;gap:",r.YK[28],";;label:tableMoreOptions;"),editButton:(0,o.AH)(J.xB.resetButton,";color:",r.nm.icon.default,";;label:editButton;")};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function Z(){var p,m,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype);return S(i,"_invoke",function(n,o,e){var i,a,l,c=0,u=e||[],s=!1,d={p:0,n:0,v:p,a:f,f:f.bind(p,4),d:function(e,t){return i=e,a=0,l=p,d.n=t,_}};function f(e,t){for(a=e,l=t,m=0;!s&&c&&!r&&m<u.length;m++){var r,n=u[m],o=d.p,i=n[2];e>3?(r=i===t)&&(l=n[(a=n[4])?5:(a=3,3)],n[4]=n[5]=p):n[0]<=o&&((r=e<2&&o<n[1])?(a=0,d.v=t,d.n=n[1]):o<i&&(r=e<3||n[0]>t||t>i)&&(n[4]=e,n[5]=t,d.n=i,a=0))}if(r||e>1)return _;throw s=!0,t}return function(e,t,r){if(c>1)throw TypeError("Generator is already running");for(s&&1===t&&f(t,r),a=t,l=r;(m=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(d.n=-1),f(a,l)):d.n=l:d.v=l);try{if(c=2,i){if(a||(e="next"),m=i[e]){if(!(m=m.call(i,l)))throw TypeError("iterator result is not an object");if(!m.done)return m;l=m.value,a<2&&(a=0)}else 1===a&&(m=i.return)&&m.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);i=p}else if((m=(s=d.n<0)?l:n.call(o,d))!==_)break}catch(e){i=p,a=1,l=e}finally{c=1}}return{value:m,done:s}}}(e,r,n),!0),i}var _={};function a(){}function o(){}function i(){}m=Object.getPrototypeOf;var l=[][t]?m(m([][t]())):(S(m={},t,function(){return this}),m),c=i.prototype=a.prototype=Object.create(l);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,S(e,r,"GeneratorFunction")),e.prototype=Object.create(c),e}return o.prototype=i,S(c,"constructor",i),S(i,"constructor",o),o.displayName="GeneratorFunction",S(i,r,"GeneratorFunction"),S(c),S(c,r,"Generator"),S(c,t,function(){return this}),S(c,"toString",function(){return"[object Generator]"}),(Z=function(){return{w:n,m:u}})()}function S(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}S=function(e,t,r,n){function o(t,r){S(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},S(e,t,r,n)}function Oe(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=function(){var e,t,r=(0,k.p)({defaultValues:{customers:[]}}),n=(0,U.B)(),o=(0,ue.F)().priceFormat,i=(t=(0,ne.h)().showModal,{openCustomerSelectModal:function(e){return t({component:ce,props:e})}}).openCustomerSelectModal,a=(0,_e.Zp)(),c=(0,x.Y)(),l=(0,se.B)(),u=l.pageInfo,s=l.onPageChange,d=l.onFilterItems,f=l.itemsPerPage,p=l.offset,m=(0,N.f$)({offset:p,limit:f,filter:u.filter}),_=(0,D.g)({totalItemsList:null===(e=m.data)||void 0===e?void 0:e.results}),S=_.selectedItems,y=_.totalItems,O=_.totalSelected,v=_.onSelectItem,b=_.toggleAllItems,h=_.resetSelections,E=_.onFireSingleItemAction,A=(0,k.p)({defaultValues:{search:u.filter.search||"",sort_by:u.filter.sortBy||""}}),g=(0,B.d)((0,K.FH)({control:A.control,name:"search"})),T=(0,K.FH)({control:A.control,name:"sort_by"});(0,H.useEffect)(function(){d(X(X({},g.length>0&&{search:g}),T&&{sortBy:T}))},[d,g,T]);var P=[{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_NAME_AZ"),value:"name"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_NAME_ZA"),value:"-name"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_ORDERS_LEAST"),value:"orders"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_ORDERS_MOST"),value:"-orders"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_EXPENDITURE_LEAST"),value:"spent"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_EXPENDITURE_MOST"),value:"-spent"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_CREATED_OLD_FIRST"),value:"created"},{label:n("COM_EASYSTORE_APP_USERS_SORT_BY_CREATED_NEWEST_FIRST"),value:"-created"}];if(m.isLoading)return(0,G.Y)(w.Ay,{});if(!m.data)return(0,G.Y)("div",{children:n("COM_EASYSTORE_APP_GLOBAL_SOMETHING_WENT_WRONG")});var Y=function(){i({title:n("COM_EASYSTORE_APP_JOOMLA_USERS_MODAL_TITLE"),form:r})},C=function(){var l,e=(l=Z().m(function e(){return Z().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c({title:n("COM_EASYSTORE_APP_DELETE_CUSTOMERS_MODAL_TITLE"),payload:{ids:S.ids},mutationFn:N.CT,invalidateKeys:[["Users"]]});case 1:"CONFIRM"===e.v.action&&h();case 2:return e.a(2)}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){Oe(n,t,r,o,i,"next",e)}function i(e){Oe(n,t,r,o,i,"throw",e)}o(void 0)})});return function(){return e.apply(this,arguments)}}();return(0,G.Y)("div",{children:function(){var e;if(0===m.data.totalItems&&0===Object.keys(u.filter).length)return(0,G.Y)(de.A,{children:(0,G.Y)("div",{css:J.xB.cardInnerSection,children:(0,G.Y)(fe.A,{emptyStateImage:pe,imageAltText:n("COM_EASYSTORE_APP_CUSTOMERS_EMPTY_STATE_TITLE"),imageMaxWidth:"unset",imageMaxHeight:"unset",title:n("COM_EASYSTORE_APP_CUSTOMERS_EMPTY_STATE_TITLE"),content:n("COM_EASYSTORE_APP_CUSTOMERS_EMPTY_STATE_CONTENT"),orientation:"vertical",actionTray:(0,G.FD)("div",{css:$.actionButtons,children:[(0,G.Y)(R.Ay,{variant:R.Ak.primary,onClick:function(){a(q.C.CreateNewCustomer.buildLink())},children:n("COM_EASYSTORE_APP_NEW_CUSTOMERS_CREATE_NEW_CUSTOMER")}),(0,G.Y)(R.Ay,{variant:R.Ak.secondary,onClick:Y,children:n("COM_EASYSTORE_APP_JOOMLA_USERS_ADD_JOOMLA_USER")})]})})})});var t=[{Header:(0,G.Y)(M.A,{onChange:b,checked:O>0,isIndeterminate:O>0&&O<y}),Cell:function(t,r){return(0,G.Y)(M.A,{onChange:function(e){v({itemId:t.id,itemIndex:r,isChecked:e})},checked:S.ids.includes(t.id)})},width:50,headerColSpan:O>0?6:void 0},{Header:n("COM_EASYSTORE_APP_CUSTOMERS_LIST_CUSTOMER_NAME"),Cell:function(e){return t=e,(0,G.FD)("div",{css:$.customerName,children:[(0,G.Y)("div",{children:(0,G.Y)("img",{src:t.image||re,alt:t.name})}),(0,G.Y)(Se.N_,{to:q.C.CustomerProfile.buildLink({id:t.id.toString()}),children:t.name})]});var t}},{Header:n("COM_EASYSTORE_APP_CUSTOMER_EMAIL"),Cell:function(e){return t=e,(0,G.Y)("div",{children:(0,G.Y)("div",{children:t.email})});var t}},{Header:n("COM_EASYSTORE_APP_CUSTOMERS_LIST_LOCATION"),Cell:function(e){return(d=[(null==(t=e)||null===(r=t.shipping_address)||void 0===r?void 0:r.address_1)||(null==t||null===(n=t.shipping_address)||void 0===n?void 0:n.address_2),null===(o=(0,me.Gk)(null==t||null===(i=t.shipping_address)||void 0===i?void 0:i.country,Number(null==t||null===(a=t.shipping_address)||void 0===a?void 0:a.state)))||void 0===o?void 0:o.name,null==t||null===(l=t.shipping_address)||void 0===l?void 0:l.city,null==t||null===(c=t.shipping_address)||void 0===c?void 0:c.zip_code,null===(u=(0,me.jM)(null==t||null===(s=t.shipping_address)||void 0===s?void 0:s.country))||void 0===u?void 0:u.name].filter(function(e){return!!e}).join(", ")).length>30?(0,G.Y)(Q.A,{content:d,children:(0,G.FD)("div",{css:$.customerLocation,children:[d.slice(0,30),"..."]})}):(0,G.Y)("div",{css:$.customerLocation,children:d});var t,r,n,o,i,a,l,c,u,s,d}},{Header:n("COM_EASYSTORE_APP_CUSTOMERS_LIST_ORDERS"),Cell:function(e){return e.orders},width:100},{Header:n("COM_EASYSTORE_APP_CUSTOMERS_LIST_SPENT"),Cell:function(e){return(0,G.Y)("div",{css:$.customerSpent,children:o(e.spent)})}},{Cell:function(e,t){return(0,G.Y)(ye,{item:e,updateSelectedItems:function(){E({itemId:e.id,itemIndex:t})}})},width:104}];return(0,G.FD)(G.FK,{children:[(0,G.FD)("div",{css:$.customerButtonWrapper,children:[(0,G.Y)(R.Ay,{variant:R.Ak.primary,onClick:function(){a(q.C.CreateNewCustomer.buildLink())},children:n("COM_EASYSTORE_APP_NEW_CUSTOMERS_CREATE_NEW_CUSTOMER")}),(0,G.Y)(R.Ay,{variant:R.Ak.secondary,onClick:Y,children:n("COM_EASYSTORE_APP_JOOMLA_USERS_ADD_JOOMLA_USER")})]}),(0,G.FD)(de.A,{children:[(0,G.FD)("div",{css:$.tableActions,children:[(0,G.Y)(K.xI,{control:A.control,name:"search",render:function(e){return(0,G.Y)(I.A,X(X({},e),{},{content:(0,G.Y)(j.A,{name:"search"}),placeholder:n("COM_EASYSTORE_APP_CUSTOMERS_SEARCH_CUSTOMER"),showVerticalBar:!1}))}}),(0,G.Y)(K.xI,{control:A.control,name:"sort_by",render:function(e){return(0,G.Y)(L.A,X(X({},e),{},{options:P,icon:(0,G.Y)(j.A,{name:"sorting"}),iconPosition:"left",listLabel:n("COM_EASYSTORE_APP_SORT_BY"),placeholder:n("COM_EASYSTORE_APP_TAGS_SORT_BY_PLACEHOLDER"),hideCaret:!0,showRadio:!0,clearable:!0}))}})]}),(0,G.Y)(te.A,{columns:t,entireHeader:O>0&&(0,G.FD)(z.A,{variant:R.Ak.secondary,children:[(0,G.Y)("button",{css:$.selectAllButton,onClick:function(e){e.preventDefault(),b()},children:(0,G.Y)(M.A,{label:n("COM_EASYSTORE_APP_SELECTED_TEXT",{total:O}),checked:O===y,isIndeterminate:O>0&&O<y})}),(0,G.Y)("button",{css:$.deleteButton,onClick:C,type:"button",children:n("COM_EASYSTORE_APP_DELETE")})]}),data:null===(e=m.data)||void 0===e?void 0:e.results,stripedBySelectedIndex:S.indexes,itemsPerPage:f,loading:m.isFetching})]}),(0,G.Y)("div",{css:$.paginatorWrapper,children:(0,G.Y)(F.A,{currentPage:u.page,onPageChange:s,totalItems:m.data.totalItems,itemsPerPage:f})})]})}()})};var $={tableActions:(0,o.AH)("display:grid;grid-template-columns:auto 210px;align-items:center;gap:",r.YK[24],";padding:",r.YK[20],";;label:tableActions;"),customerName:(0,o.AH)("display:flex;align-items:center;gap:",r.YK[8],";>div{width:32px;height:32px;border-radius:",r.Vq.circle,";overflow:hidden;img{width:100%;height:100%;object-fit:cover;}}>a{",n.I.heading6("medium"),";color:",r.nm.text.default,";text-decoration:none;};label:customerName;"),customerSpent:(0,o.AH)("font-weight:",r.Wy.medium,";;label:customerSpent;"),customerButtonWrapper:(0,o.AH)("margin:",r.YK[8]," 0 ",r.YK[24]," 0;display:flex;flex-direction:row;gap:",r.YK[8],";;label:customerButtonWrapper;"),customerLocation:(0,o.AH)("color:",r.nm.text.neutral,";;label:customerLocation;"),paginatorWrapper:(0,o.AH)("margin-top:",r.YK[56],";;label:paginatorWrapper;"),deleteButton:(0,o.AH)(J.xB.resetButton," ",n.I.body()," border-radius:0 ",r.Vq[6]," ",r.Vq[6]," 0;background-color:",r.nm.actions.secondary.default,";padding:",r.YK[8]," ",r.YK[16],";border:1px solid ",r.nm.border.default,";color:",r.nm.text.critical,";;label:deleteButton;"),selectAllButton:(0,o.AH)(J.xB.resetButton," ",n.I.body()," border-radius:",r.Vq[6]," 0 0 ",r.Vq[6],";background-color:",r.nm.actions.secondary.default,";padding:",r.YK[8]," ",r.YK[16],";border:1px solid ",r.nm.border.default,";border-right:none;;label:selectAllButton;"),actionButtons:(0,o.AH)("display:flex;align-items:center;gap:",r.YK[16],";justify-content:center;margin-top:",r.YK[32],";;label:actionButtons;")};const A=function(){return(0,G.Y)("div",{css:g.wrapper,children:(0,G.Y)(E,{})})};var g={wrapper:(0,o.AH)("display:flex;flex-direction:column;gap:",r.YK[24],";;label:wrapper;")}}}]);