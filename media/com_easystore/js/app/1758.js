"use strict";(self.webpackChunkreact_typescript_webpack=self.webpackChunkreact_typescript_webpack||[]).push([[1758],{31758:(t,B,e)=>{e.d(B,{A:()=>Ue});var b=e(39248),r=e(17437),c=e(13971),E=e(96540),_=e(92921),n=e(90578),S=e(50394),l=e(44944),M=e(96756),g=e(88294),u=e(49785),s=e(56051),w=e(2445);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function f(){var p,b,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype);return d(i,"_invoke",function(r,o,e){var i,a,l,c=0,u=e||[],s=!1,f={p:0,n:0,v:p,a:d,f:d.bind(p,4),d:function(e,t){return i=e,a=0,l=p,f.n=t,h}};function d(e,t){for(a=e,l=t,b=0;!s&&c&&!n&&b<u.length;b++){var n,r=u[b],o=f.p,i=r[2];e>3?(n=i===t)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=p):r[0]<=o&&((n=e<2&&o<r[1])?(a=0,f.v=t,f.n=r[1]):o<i&&(n=e<3||r[0]>t||t>i)&&(r[4]=e,r[5]=t,f.n=i,a=0))}if(n||e>1)return h;throw s=!0,t}return function(e,t,n){if(c>1)throw TypeError("Generator is already running");for(s&&1===t&&d(t,n),a=t,l=n;(b=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(f.n=-1),d(a,l)):f.n=l:f.v=l);try{if(c=2,i){if(a||(e="next"),b=i[e]){if(!(b=b.call(i,l)))throw TypeError("iterator result is not an object");if(!b.done)return b;l=b.value,a<2&&(a=0)}else 1===a&&(b=i.return)&&b.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);i=p}else if((b=(s=f.n<0)?l:r.call(o,f))!==h)break}catch(e){i=p,a=1,l=e}finally{c=1}}return{value:b,done:s}}}(e,n,r),!0),i}var h={};function a(){}function o(){}function i(){}b=Object.getPrototypeOf;var l=[][t]?b(b([][t]())):(d(b={},t,function(){return this}),b),c=i.prototype=a.prototype=Object.create(l);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,d(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return o.prototype=i,d(c,"constructor",i),d(i,"constructor",o),o.displayName="GeneratorFunction",d(i,n,"GeneratorFunction"),d(c),d(c,n,"Generator"),d(c,t,function(){return this}),d(c,"toString",function(){return"[object Generator]"}),(f=function(){return{w:r,m:u}})()}function d(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}d=function(e,t,n,r){function o(t,n){d(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},d(e,t,n,r)}function H(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach(function(e){W(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=function(e){var n=e.closeModal,t=e.title,r=e.content,o=e.onChangeContent,i=(0,g.B)(),a=(0,M.p)({defaultValues:p({},r)});return(0,w.Y)(s.A,{onClose:function(){return n({action:"CLOSE"})},title:t,children:(0,w.FD)("form",{css:h.modalWrapper,onSubmit:a.handleSubmit(function(){var l,t=(l=f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:o(t),n({action:"CLOSE"});case 1:return e.a(2)}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,n){var r=l.apply(e,a);function o(e){H(r,t,n,o,i,"next",e)}function i(e){H(r,t,n,o,i,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}()),children:[(0,w.FD)("div",{css:h.innerWrapper,children:[(0,w.Y)(u.xI,{control:a.control,name:"src",render:function(e){return(0,w.Y)(l.A,p(p({},e),{},{label:i("COM_EASYSTORE_APP_EDITOR_IMAGE_SOURCE_LABEL"),placeholder:i("COM_EASYSTORE_APP_EDITOR_IMAGE_SOURCE_PLACEHOLDER"),helpText:i("COM_EASYSTORE_APP_EDITOR_IMAGE_SOURCE_DESC")}))}}),(0,w.Y)(u.xI,{control:a.control,name:"alt",render:function(e){return(0,w.Y)(l.A,p(p({},e),{},{label:i("COM_EASYSTORE_APP_EDITOR_IMAGE_ALT_TEXT_LABEL"),placeholder:i("COM_EASYSTORE_APP_EDITOR_IMAGE_ALT_TEXT_PLACEHOLDER"),helpText:i("COM_EASYSTORE_APP_EDITOR_IMAGE_ALT_TEXT_DESC")}))}}),(0,w.Y)(u.xI,{control:a.control,name:"title",render:function(e){return(0,w.Y)(l.A,p(p({},e),{},{label:i("COM_EASYSTORE_APP_EDITOR_IMAGE_TITLE_LABEL"),placeholder:i("COM_EASYSTORE_APP_EDITOR_IMAGE_TITLE_PLACEHOLDER"),helpText:i("COM_EASYSTORE_APP_EDITOR_IMAGE_TITLE_DESC")}))}})]}),(0,w.FD)("div",{css:h.footerWrapper,children:[(0,w.Y)(S.Ay,{variant:S.Ak.secondary,onClick:function(){return n({action:"CLOSE"})},children:i("COM_EASYSTORE_APP_CANCEL")}),(0,w.Y)(S.Ay,{type:"submit",children:i("COM_EASYSTORE_APP_APPLY")})]})]})})};var h={modalWrapper:{name:"ry1w62-modalWrapper",styles:"max-width:500px;width:100%;max-height:40vh;label:modalWrapper;"},innerWrapper:(0,r.AH)("width:500px;padding:",b.YK[20],";",n.xB.displayFlex("column"),";gap:",b.YK[16],";;label:innerWrapper;"),footerWrapper:(0,r.AH)("display:flex;align-items:center;padding:",b.YK[16],";gap:",b.YK[8],";justify-content:flex-end;;label:footerWrapper;")},F=e(45584),a=e(36175);function v(){var p,b,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype);return m(i,"_invoke",function(r,o,e){var i,a,l,c=0,u=e||[],s=!1,f={p:0,n:0,v:p,a:d,f:d.bind(p,4),d:function(e,t){return i=e,a=0,l=p,f.n=t,h}};function d(e,t){for(a=e,l=t,b=0;!s&&c&&!n&&b<u.length;b++){var n,r=u[b],o=f.p,i=r[2];e>3?(n=i===t)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=p):r[0]<=o&&((n=e<2&&o<r[1])?(a=0,f.v=t,f.n=r[1]):o<i&&(n=e<3||r[0]>t||t>i)&&(r[4]=e,r[5]=t,f.n=i,a=0))}if(n||e>1)return h;throw s=!0,t}return function(e,t,n){if(c>1)throw TypeError("Generator is already running");for(s&&1===t&&d(t,n),a=t,l=n;(b=a<2?p:l)||!s;){i||(a?a<3?(a>1&&(f.n=-1),d(a,l)):f.n=l:f.v=l);try{if(c=2,i){if(a||(e="next"),b=i[e]){if(!(b=b.call(i,l)))throw TypeError("iterator result is not an object");if(!b.done)return b;l=b.value,a<2&&(a=0)}else 1===a&&(b=i.return)&&b.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);i=p}else if((b=(s=f.n<0)?l:r.call(o,f))!==h)break}catch(e){i=p,a=1,l=e}finally{c=1}}return{value:b,done:s}}}(e,n,r),!0),i}var h={};function a(){}function o(){}function i(){}b=Object.getPrototypeOf;var l=[][t]?b(b([][t]())):(m(b={},t,function(){return this}),b),c=i.prototype=a.prototype=Object.create(l);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,m(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return o.prototype=i,m(c,"constructor",i),m(i,"constructor",o),o.displayName="GeneratorFunction",m(i,n,"GeneratorFunction"),m(c),m(c,n,"Generator"),m(c,t,function(){return this}),m(c,"toString",function(){return"[object Generator]"}),(v=function(){return{w:r,m:u}})()}function m(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}m=function(e,t,n,r){function o(t,n){m(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},m(e,t,n,r)}function U(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function V(l){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=l.apply(e,a);function o(e){U(r,t,n,o,i,"next",e)}function i(e){U(r,t,n,o,i,"throw",e)}o(void 0)})}}var q=a.Lz.theme({"&.cm-editor":{border:"1px solid ".concat(b.nm.border.neutral),borderRadius:b.Vq[6],overflow:"hidden",fontSize:"12px",height:"200px",background:b.nm.basic.white},"&.cm-editor.cm-focused":{outline:"none",boxShadow:"".concat(b.r7.outline)},"&.cm-editor .cm-content":{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break"}});const z=function(e){var t=e.closeModal,n=e.title,r=e.content,o=e.onChangeContent,i=(0,g.B)();return(0,w.Y)(s.A,{onClose:function(){return t({action:"CLOSE"})},title:n,children:(0,w.FD)("div",{css:y.modalWrapper,children:[(0,w.Y)("div",{css:y.codeMirror,children:(0,w.Y)(a.Ay,{theme:q,extensions:[a.Lz.lineWrapping],value:r,onChange:o})}),(0,w.FD)("div",{css:y.footerWrapper,children:[(0,w.Y)(S.Ay,{variant:S.Ak.secondary,onClick:function(){return t({action:"CLOSE"})},children:i("COM_EASYSTORE_APP_CANCEL")}),(0,w.Y)(S.Ay,{onClick:V(v().m(function e(){return v().w(function(e){for(;;)if(0===e.n)return e.a(2,t({action:"CLOSE"}))},e)})),children:i("COM_EASYSTORE_APP_APPLY")})]})]})})};var y={modalWrapper:{name:"13mhh3a-modalWrapper",styles:"width:700px;label:modalWrapper;"},codeMirror:{name:"1ivh6sh-codeMirror",styles:".cm-editor,.cm-theme{height:300px;}.cm-editor{border-radius:0px;padding:0;margin:0;};label:codeMirror;"},footerWrapper:(0,r.AH)("display:flex;align-items:center;padding:",b.YK[16],";gap:",b.YK[8],";justify-content:flex-end;;label:footerWrapper;")},i=e(49587),N=e(91789),J=function(e){return e.replace(/[^-0-9.]/g,"")};const A=function(e){var t=e.label,n=e.isInlineLabel,r=e.type,o=void 0===r?"text":r,i=e.value,a=e.disabled,l=e.readOnly,c=e.placeholder,u=e.onChange,s=e.onBlur,f=e.onKeyDown,d=e.onFocus,p=e.isClearable,b=e.handleMediaIconClick,h=e.variant,v=void 0===h?"regular":h,g=e.focusOnMount,m=void 0!==g&&g,y=e.inputCss,A=(0,E.useId)(),O=(0,E.useRef)(null);return(0,E.useEffect)(function(){m&&O.current&&O.current.focus()},[m]),(0,w.FD)("div",{css:Y.inputContainer(n),children:[!!t&&(0,w.Y)("label",{htmlFor:A,css:Y.label(n),children:t}),(0,w.FD)("div",{css:Y.inputWrapper,children:[(0,w.Y)("input",{ref:O,id:A,type:"text",css:[Y.input(v),y,";label:TextInput;"],value:i||"",onChange:function(e){var t=e.target.value,n="number"===o?J(t):t;u(n)},onKeyDown:function(e){f&&f(e.key,e)},onBlur:function(e){var t=e.target.value,n="number"===o?J(t):t;s&&s(n)},onFocus:function(e){d&&d(e)},placeholder:c,readOnly:l,disabled:a,autoComplete:"off"}),"search"===v&&(0,w.Y)("span",{css:Y.searchIcon,children:(0,w.Y)(_.A,{name:"search"})}),p&&!!i&&(0,w.Y)("div",{css:Y.rightIconButton,children:(0,w.Y)(S.Ay,{variant:S.Ak.plain,onClick:function(){return u("")},children:(0,w.Y)(_.A,{name:"cross"})})}),!!b&&"search"!==v&&!i&&(0,w.Y)("div",{css:Y.rightIconButton,children:(0,w.Y)(S.Ay,{variant:S.Ak.plain,onClick:b,children:(0,w.Y)(_.A,{name:"upload"})})})]})]})};var Y={inputContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.AH)("display:flex;flex-direction:column;gap:",b.YK[4],";width:100%;",e&&(0,r.AH)("flex-direction:row;align-items:center;gap:",b.YK[12],";justify-content:space-between;height:32px;;label:inputContainer;"),";;label:inputContainer;")},label:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.AH)(i.I.caption()," ",e&&(0,r.AH)("color:",b.nm.text.default,";;label:label;"),";;label:label;")},inputWrapper:{name:"1rdjunr-inputWrapper",styles:"position:relative;label:inputWrapper;"},input:function(e){return(0,r.AH)(i.I.body()," width:100%;height:32px;border-radius:",b.Vq[5],";border:1px solid ",b.nm.border.neutral,";box-shadow:",b.r7.input,";padding:0 ",b.YK[32]," 0 ",b.YK[12],";color:",b.nm.text.default,";appearance:textfield;:focus{outline:none;box-shadow:none;}::-webkit-outer-spin-button,::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}::placeholder{color:",b.nm.text.neutral,";}","search"===e&&(0,r.AH)("padding-left:",b.YK[36],";;label:input;"),";;label:input;")},rightIconButton:(0,r.AH)("position:absolute;right:0;top:0;button{padding:",b.YK[8],";};label:rightIconButton;"),searchIcon:(0,r.AH)("position:absolute;top:50%;left:",b.YK[8],";transform:translateY(-50%);color:",b.nm.icon.default,";line-height:0;;label:searchIcon;")},O=e(7350),$=e(84026);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach(function(e){X(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function X(e,t,n){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var te=function(e){var t=e.attributes,n=e.setLink,r=e.unsetLink,o=e.isActive,i=(0,g.B)(),a=Q((0,E.useState)(!1),2),l=a[0],c=a[1],u=(0,O.t)({isOpen:l,isDropdown:!0,gap:5}),s=u.triggerRef,f=u.position,d=u.popoverRef,p={href:"",newTab:!1},b=Q((0,E.useState)(p),2),h=b[0],v=b[1];return(0,E.useEffect)(function(){v({href:(0,$.O9)(t.href)?t.href:"",newTab:"_blank"===t.target})},[t]),(0,w.FD)(w.FK,{children:[(0,w.Y)("button",{type:"button",ref:s,onClick:function(){return c(!l)},css:P.selectedItem(o),children:(0,w.Y)(_.A,{name:"editor-link"})}),(0,w.Y)(O.Z,{isOpen:l,onClickOutside:function(){c(!1)},children:(0,w.FD)("div",{css:P.popoverWrapper({left:f.left,top:f.top}),ref:d,children:[(0,w.FD)("div",{css:P.content,children:[(0,w.Y)(A,{placeholder:"e.g. https://example.com/",value:h.href,onChange:function(e){return v(x(x({},h),{},{href:e}))},focusOnMount:!0}),(0,w.Y)(N.A,{checked:h.newTab,onChange:function(){return v(x(x({},h),{},{newTab:!h.newTab}))},label:i("COM_EASYSTORE_APP_EDITOR_OPEN_IN_NEW_TAB")})]}),(0,w.Y)("div",{css:P.buttonWrapper,children:(0,w.Y)(S.Ay,{size:S.Mp.slim,onClick:function(){0===h.href.trim().length?r():n(h),c(!1),v(p)},children:i("COM_EASYSTORE_APP_APPLY")})})]})})]})},P={selectedItem:function(e){return(0,r.AH)(n.xB.resetButton,";padding:",b.YK[4],";display:flex;align-items:center;padding:",b.YK[8]," ",b.YK[6],";color:",b.nm.icon.default,";span{",i.I.caption(),";font-size:",b.J[24],";}:hover{color:",b.nm.icon.hover,";}",e&&(0,r.AH)("color:",b.nm.text.primary,";span{color:",b.nm.text.primary,";};label:selectedItem;"),";;label:selectedItem;")},popoverWrapper:function(e){var t=e.left,n=e.top;return(0,r.AH)("position:absolute;left:",Math.max(0,t-8),"px;top:",n,"px;background:",b.nm.basic.white,";box-shadow:",b.r7.popover,";border-radius:",b.Vq[6],";max-width:300px;width:100%;;label:popoverWrapper;")},content:(0,r.AH)("display:flex;flex-direction:column;gap:",b.YK[10],";padding:",b.YK[16],";;label:content;"),buttonWrapper:(0,r.AH)("display:flex;justify-content:end;border-top:1px solid ",b.nm.border.neutral,";padding:",b.YK[8]," ",b.YK[16],";&>button{border-radius:",b.Vq[8],";};label:buttonWrapper;")},ne=e(73491);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach(function(e){oe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function oe(e,t,n){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ae=function(e){var t,n,r=e.onChangeContent,o=e.isOpen,i=e.onClose,a=e.triggerRef,l=e.popoverGap,c=void 0===l?20:l,u=(0,g.B)(),s=(t=(0,E.useState)({rows:3,cols:3,withHeaderRow:!0}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],d=s[1],p=(0,O.t)({isOpen:o,triggerRef:a,gap:c,arrow:"top"}),b=p.position,h=p.popoverRef;return(0,w.Y)(O.Z,{isOpen:o,onClickOutside:i,children:(0,w.Y)("div",{css:[j.cardStyle,{position:"absolute",left:b.left,top:b.top},";label:TablePopover;"],ref:h,children:(0,w.FD)(ne.A,{children:[(0,w.Y)(ne.a,{title:u("COM_EASYSTORE_APP_EDITOR_TABLE_PROPERTIES"),actionTray:(0,w.Y)(S.Ay,{variant:S.Ak.plain,onClick:i,buttonCss:j.crossButton,children:(0,w.Y)(_.A,{name:"times"})})}),(0,w.FD)("div",{css:j.cardInnerSection,children:[(0,w.Y)(A,{label:u("COM_EASYSTORE_APP_EDITOR_TABLE_NUMBER_OF_ROWS"),type:"number",value:f.rows,onChange:function(e){return d(I(I({},f),{},{rows:Number(e)}))}}),(0,w.Y)(A,{label:u("COM_EASYSTORE_APP_EDITOR_TABLE_NUMBER_OF_COLS"),type:"number",value:f.cols,onChange:function(e){return d(I(I({},f),{},{cols:Number(e)}))}}),(0,w.Y)(N.A,{checked:f.withHeaderRow,onChange:function(){return d(I(I({},f),{},{withHeaderRow:!f.withHeaderRow}))},label:u("COM_EASYSTORE_APP_EDITOR_TABLE_ENABLE_HEADER_ROW")})]}),(0,w.Y)("div",{css:j.buttonWrapper,children:(0,w.Y)(S.Ay,{onClick:function(){r(f),i()},size:S.Mp.slim,children:u("COM_EASYSTORE_APP_APPLY")})})]})})})};var j={cardStyle:(0,r.AH)("box-shadow:",b.r7.popover,";border-radius:",b.Vq[6],";max-width:300px;width:100%;;label:cardStyle;"),cardInnerSection:(0,r.AH)(n.xB.displayFlex("column")," gap:",b.YK[12],";padding:",b.YK[16],";;label:cardInnerSection;"),crossButton:{name:"1o5ntf8-crossButton",styles:"padding:0;label:crossButton;"},buttonWrapper:(0,r.AH)("display:flex;justify-content:end;border-top:1px solid ",b.nm.border.neutral,";padding:",b.YK[8]," ",b.YK[16],";&>button{border-radius:",b.Vq[8],";};label:buttonWrapper;"),labelWrapper:(0,r.AH)("display:flex;justify-content:space-between;margin-bottom:",b.YK[4],";;label:labelWrapper;"),label:(0,r.AH)(i.I.caption(),";;label:label;")},R=function(e){var t=e.icon,n=e.isActive,r=e.onClick,o=e.disabled,i=e.iconSize,a=void 0===i?20:i;return(0,w.Y)("button",{type:"button",onClick:r,css:le.wrapper(n,a),disabled:o,children:(0,w.Y)(_.A,{name:t})})},le={wrapper:function(e,t){return(0,r.AH)(n.xB.resetButton,";display:flex;align-items:center;gap:",b.YK[4],";padding:",b.YK[8]," ",b.YK[6],";color:",b.nm.icon.default,";span{",i.I.caption(),";font-size:",b.J[t],";color:",b.nm.icon.default,";}:hover{color:",b.nm.icon.hover,";}",e&&(0,r.AH)("color:",b.nm.text.primary,";;label:wrapper;"),";;label:wrapper;")}},ce=e(44831);function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.items,n=e.defaultItem,r=ue((0,E.useState)(!1),2),o=r[0],i=r[1],a=(0,O.t)({isOpen:o,isDropdown:!0,gap:5}),l=a.triggerRef,c=a.position,u=a.popoverRef,s=ue((0,E.useState)(n),2),f=s[0],d=s[1],p=Object.keys(t).find(function(e){return t[e].isActive});return(0,E.useEffect)(function(){(0,$.O9)(p)&&d(p)},[p]),(0,w.FD)(w.FK,{children:[(0,w.Y)("button",{type:"button",ref:l,onClick:function(){return i(!o)},css:D.selectedItem(t[f].isActive),children:(0,w.Y)(_.A,{name:t[f].icon})}),(0,w.Y)(O.Z,{isOpen:o,onClickOutside:function(){i(!1)},children:(0,w.Y)("div",{css:D.itemsWrapper({left:c.left,top:c.top}),ref:u,children:(0,ce.Co)(t).map(function(e){return(0,w.Y)("button",{type:"button",css:D.deviceButton({isActive:e===f}),onClick:function(){t[e].action(),d(e),i(!1)},children:(0,w.Y)(_.A,{name:t[e].icon})},e)})})})]})},fe={name:"xs7epg-toggleIcon",styles:"transform:rotate(180deg);label:toggleIcon;"},D={selectedItem:function(e){return(0,r.AH)(n.xB.resetButton,";padding:",b.YK[4],";display:flex;align-items:center;padding:",b.YK[8]," ",b.YK[6],";color:",b.nm.icon.default,";span{",i.I.caption(),";font-size:",b.J[20],";}:hover{color:",b.nm.icon.hover,";}",e&&(0,r.AH)("color:",b.nm.icon.default,";span{color:",b.nm.icon.default,";};label:selectedItem;"),";;label:selectedItem;")},toggleIcon:function(e){var t=e.isOpen,n=void 0!==t&&t;return(0,r.AH)("color:",b.nm.icon.default,";transition:transform 0.3s ease-in-out;",n&&fe,";;label:toggleIcon;")},deviceButton:function(e){var t=e.isActive;return(0,r.AH)(n.xB.resetButton,";display:flex;align-items:center;gap:",b.YK[4],";padding:",b.YK[6]," ",b.YK[8],";color:",b.nm.icon.default,";span{",i.I.caption(),";font-size:",b.J[20],";}:hover{color:",b.nm.icon.hover,";span{color:",b.nm.icon.hover,";}}",t&&(0,r.AH)("color:",b.nm.icon.default,";span{color:",b.nm.icon.default,";};label:deviceButton;"),";;label:deviceButton;")},itemsWrapper:function(e){var t=e.left,n=e.top;return(0,r.AH)("position:absolute;left:",Math.max(0,t-8),"px;top:",n,"px;display:flex;background:",b.nm.basic.white,";box-shadow:",b.r7.popover,";border-radius:",b.Vq[2],";;label:itemsWrapper;")}};function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pe=function(e){return{h1:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_LAPTOP",icon:"editor-heading1",isActive:e.isActive("heading",{level:1}),action:function(){return e.chain().focus().toggleHeading({level:1}).run()}},h2:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_TABLET_LANDSCAPE",icon:"editor-heading2",isActive:e.isActive("heading",{level:2}),action:function(){return e.chain().focus().toggleHeading({level:2}).run()}},h3:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_TABLET_PORTRAIT",icon:"editor-heading3",isActive:e.isActive("heading",{level:3}),action:function(){return e.chain().focus().toggleHeading({level:3}).run()}},h4:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_MOBILE_LANDSCAPE",icon:"editor-heading4",isActive:e.isActive("heading",{level:4}),action:function(){return e.chain().focus().toggleHeading({level:4}).run()}},h5:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_MOBILE_PORTRAIT",icon:"editor-heading5",isActive:e.isActive("heading",{level:5}),action:function(){return e.chain().focus().toggleHeading({level:5}).run()}},h6:{name:"COM_SPPAGEBUILDER_EDITOR_DEVICE_MOBILE_PORTRAIT",icon:"editor-heading6",isActive:e.isActive("heading",{level:6}),action:function(){return e.chain().focus().toggleHeading({level:6}).run()}}}},be=function(e){return{list:{name:"Bullet list",icon:"editor-list-unordered",isActive:e.isActive("bulletList"),action:function(){return e.chain().focus().toggleBulletList().run()}},orderedList:{name:"Order list",icon:"editor-list-ordered",isActive:e.isActive("orderedList"),action:function(){return e.chain().focus().toggleOrderedList().run()}}}},he=function(e){return{left:{name:"Align left",icon:"editor-align-left",isActive:e.isActive({textAlign:"left"}),action:function(){return e.chain().focus().setTextAlign("left").run()}},center:{name:"Align center",icon:"editor-align-center",isActive:e.isActive({textAlign:"center"}),action:function(){return e.chain().focus().setTextAlign("center").run()}},right:{name:"Align right",icon:"editor-align-right",isActive:e.isActive({textAlign:"right"}),action:function(){return e.chain().focus().setTextAlign("right").run()}},justify:{name:"Align justify",icon:"editor-align-justify",isActive:e.isActive({textAlign:"justify"}),action:function(){return e.chain().focus().setTextAlign("justify").run()}}}},ve=function(e){var t,n,r,o=e.editor,i=e.value,a=e.onChange,l=(n=(0,E.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n,r)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],s=(0,F.h)().showModal,f=(0,E.useRef)(null),d=(0,g.B)(),p=function(e){null==o||o.commands.setContent(e),a(e)};return o?(0,w.FD)(w.FK,{children:[(0,w.FD)("div",{css:L.wrapper,children:[(0,w.Y)("div",{css:L.controlsGroup,children:(0,w.Y)(k,{items:pe(o),defaultItem:"h1"})}),(0,w.FD)("div",{css:L.controlsGroup,children:[(0,w.Y)(R,{name:"Bold",icon:"editor-bold",onClick:function(){return o.chain().focus().toggleBold().run()},isActive:o.isActive("bold"),disabled:!o.can().chain().focus().toggleBold().run(),iconSize:18}),(0,w.Y)(R,{name:"Italic",icon:"editor-italic",onClick:function(){return o.chain().focus().toggleItalic().run()},isActive:o.isActive("italic"),disabled:!o.can().chain().focus().toggleItalic().run(),iconSize:18}),(0,w.Y)(R,{name:"Underline",icon:"editor-underline",onClick:function(){return o.chain().focus().toggleUnderline().run()},isActive:o.isActive("italic"),disabled:!o.can().chain().focus().toggleUnderline().run(),iconSize:16})]}),(0,w.Y)("div",{css:[L.controlsGroup,L.colorPlate,";label:Toolbar;"],children:(0,w.Y)("input",{type:"color",onInput:function(e){return o.chain().focus().setColor(e.currentTarget.value).run()},value:null!==(t=(0,ce.Ob)(o.getAttributes("textStyle").color))&&void 0!==t?t:b.nm.text.default})}),(0,w.Y)("div",{css:L.controlsGroup,children:(0,w.Y)(k,{items:be(o),defaultItem:"list"})}),(0,w.Y)("div",{css:L.controlsGroup,children:(0,w.Y)(k,{items:he(o),defaultItem:"left"})}),(0,w.FD)("div",{css:L.controlsGroup,children:[(0,w.Y)(te,{isActive:o.isActive("link"),attributes:{href:o.getAttributes("link").href,target:o.getAttributes("link").target},setLink:function(e){var t=e.href,n=e.newTab;o.chain().focus().setLink({href:t,target:n?"_blank":null}).run()},unsetLink:function(){o.chain().focus().unsetLink().run()}}),(0,w.Y)("button",{type:"button",css:L.buttonCss("code-editor"===c),onClick:function(){s({component:z,props:{title:d("COM_EASYSTORE_APP_EDITOR_SOURCE_MODAL_TITLE"),content:i,onChangeContent:p}})},title:d("COM_EASYSTORE_APP_EDITOR_SOURCE_MODAL_TITLE"),children:(0,w.Y)(_.A,{name:"editor-source-code"})})]}),(0,w.Y)(R,{name:"Blockquote",icon:"editor-blockquote",onClick:function(){return o.chain().focus().toggleBlockquote().run()},isActive:o.isActive("blockquote"),disabled:!o.can().chain().focus().toggleBlockquote().run()}),(0,w.Y)("div",{children:(0,w.Y)("button",{type:"button",css:L.buttonCss(),title:"Insert image",onClick:function(){s({component:G,props:{title:d("COM_EASYSTORE_APP_EDITOR_IMAGE_MODAL_TITLE"),content:{src:""},onChangeContent:function(e){o.chain().focus().setImage(e).run()}}})},children:(0,w.Y)(_.A,{name:"editor-image"})})}),(0,w.Y)("div",{children:(0,w.Y)("button",{type:"button",css:L.buttonCss("table"===c),onClick:function(){return u("table")},title:"Insert table",ref:f,children:(0,w.Y)(_.A,{name:"editor-table"})})})]}),(0,w.Y)(ae,{content:i,onChangeContent:function(e){var t=e.rows,n=e.cols,r=e.withHeaderRow;null==o||o.chain().focus().insertTable({rows:t,cols:n,withHeaderRow:r}).run()},isOpen:"table"===c,onClose:function(){return u(null)},triggerRef:f})]}):null},L={wrapper:(0,r.AH)("display:flex;align-items:center;border-bottom:1px solid ",b.nm.border.neutral,";background-color:#eff1f7;position:sticky;z-index:",b.fE.positive,";top:-",b.YK[16],";border-top-right-radius:",b.Vq[4],";border-top-left-radius:",b.Vq[4],";;label:wrapper;"),buttonCss:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.AH)(n.xB.resetButton," height:26px;min-width:26px;width:100%;border-radius:",b.Vq[4],";padding:",b.YK[4],";display:flex;align-items:center;span{",i.I.caption(),";font-size:",b.J[20],";}svg{color:",b.nm.icon.default,";}",e&&(0,r.AH)("svg{color:",b.nm.text.primary,";};label:buttonCss;")," :hover{svg{color:",b.nm.icon.hover,";}};label:buttonCss;")},controlsGroup:(0,r.AH)("display:flex;align-items:center;position:relative;&:after{content:'';height:80%;width:1px;position:absolute;right:0;top:3px;background-color:",b.nm.border.neutral,";};label:controlsGroup;"),colorPlate:(0,r.AH)("padding:",b.YK[8]," ",b.YK[6],";input{width:22px;height:22px;padding:0;border:1px solid #e3e3ea;border-radius:",b.Vq[6],";};label:colorPlate;")},ge=e(63165),me=e(18049),ye=e(21459),Ae=e(48631),Oe=e(515),Ee=e(1073),_e=e(81036),Se=e(57270),we=e(94589),Ye=e(412),Ce=e(334),xe=e(18214),Pe=e(94264),Te=e(24260),Ie=e(56790),je=e(81177),Re=e(57409),ke=e(5986),De=e(1865),Le=e(53953),Be=e(94341),Me=e(7417),He=e(37594);const Ke=function(e){var t=e.value,n=e.onChange,r=e.onBlur,o=e.height,i=e.editorWrapperCSS,a=(0,E.useRef)(null),l=function(e){var t=e.content,n=e.onChange,r=e.onBlur;return(0,c.hG)({extensions:[Oe.A,Te.A,Le.A,Se.A,Ee.A.extend({addKeyboardShortcuts:function(){var e=this;return{Enter:function(){return e.editor.isActive("orderedList")||e.editor.isActive("bulletList")?e.editor.chain().createParagraphNear().run():e.editor.commands.setHardBreak()}}}}),me.Ay,Ye.Ay,He.A,Ie.Ay,_e.A,ge.Ay,ye.Ay,Pe.Ay,xe.A,Ce.Ay.configure({openOnClick:!1,HTMLAttributes:{rel:"noopener noreferrer nofollow"}}),Be.A.configure({types:["heading","paragraph"]}),we.Ay.configure({allowBase64:!0}),je.Ay.configure({resizable:!1}),Re.A,ke.h,De.A,Me.A,Ae.A],content:t,onUpdate:function(e){var t=e.editor;n(t.getHTML())},onBlur:function(e){var t=e.editor;r(t.getHTML())},parseOptions:{preserveWhitespace:"full"}})}({content:t,onChange:n,onBlur:r});return(0,E.useEffect)(function(){null!=l&&l.isEmpty&&"<p></p>"!==t&&(null==l||l.commands.setContent(t))},[t]),(0,w.Y)(w.FK,{children:(0,w.FD)("div",{css:[We.editorWrapper(o),i,";label:RichTextEditor;"],ref:a,children:[(0,w.Y)(ve,{editor:l,value:t,onChange:function(e){n(e),r(e)}}),(0,w.Y)(c.$Z,{editor:l,spellCheck:!1})]})})};var We={editorWrapper:function(e){return(0,r.AH)("position:relative;border:1px solid ",b.nm.border.neutral,";border-radius:",b.Vq[6],";:focus-within{box-shadow:",b.r7.inputFocus,";}.tiptap{padding:",b.YK[6]," ",b.YK[8],";outline:none;min-height:150px;max-height:",e,"px;overflow-y:auto;a{:hover{text-decoration:underline;}}img{width:100%;}ul,ol{margin-top:0.3125rem;margin-bottom:0.3125rem;margin-left:",b.YK[24],";}ul{list-style:initial;}ol{list-style-type:decimal;}blockquote{font-size:",b.J[18],";line-height:1.55;margin:",b.YK[12]," 0;border-top-right-radius:",b.Vq[4],";border-bottom-right-radius:",b.Vq[4],";padding:",b.YK[12]," ",b.YK[16],";border-left:6px solid ",b.nm.border.neutral,";}table{border-collapse:collapse;table-layout:fixed;width:100%;margin:0;overflow:hidden;td,th{min-width:1em;border:2px solid #ced4da!important;padding:3px 5px;vertical-align:top;box-sizing:border-box;position:relative;>*{margin-bottom:0;}}th{font-weight:bold;text-align:left;background-color:#f1f3f5;}}.tableWrapper{overflow-x:auto;}};label:editorWrapper;")}},Ge=e(92479);function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ue=function(e){var t,n,r=e.label,o=e.field,i=e.fieldState,a=e.disabled,l=e.loading,c=e.helpText,u=e.placeholder,s=e.editorHeight,f=void 0===s?200:s,d=e.editorWrapperCSS,p=e.id,b=void 0===p?"rich-text-editor":p,h=(t=(0,E.useState)(o.value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=h[0],g=h[1];return(0,E.useEffect)(function(){g(o.value)},[o.value]),(0,w.Y)(Ge.A,{label:r,field:o,fieldState:i,disabled:a,loading:l,helpText:c,placeholder:u,children:function(){var e=null!=v?v:"";return(0,w.Y)(Ke,{value:e,onChange:function(e){g(e)},onBlur:o.onChange,height:f,editorWrapperCSS:d},b)}})}}}]);