/**
 * @copyright  (C) 2025 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(Joomla&&Joomla.getOptions("js-auto-update")){const e=(a,s)=>{const o=document.getElementById("plg_quickicon_autoupdate");o&&o.classList.add(a),o.querySelectorAll("span.j-links-link").forEach(t=>{t.innerHTML=Joomla.sanitizeHtml(s)})},n=()=>{const a=Joomla.getOptions("js-auto-update");Joomla.enqueueRequest({url:a.ajaxUrl,method:"GET",promise:!0}).then(s=>{const o=s.responseText,t=JSON.parse(o);t?t.active?t.healthy===-1?e("danger",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_OUTDATED")):t.healthy===0?e("warning",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_UNAVAILABLE")):e("success",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_OK")):e("warning",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_DISABLED")):e("danger",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_ERROR"))}).catch(()=>{e("danger",Joomla.Text._("PLG_QUICKICON_AUTOUPDATE_ERROR"))})};window.addEventListener("load",()=>setTimeout(n,300))}
